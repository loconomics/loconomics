require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a,b,c){var d=a.slice((c||b)+1||a.length);return a.length=0>b?a.length+b:b,a.push.apply(a,d)}"undefined"!=typeof b&&b.exports?b.exports=c:Array.remove=c},{}],2:[function(a,b){var c=a("./DataSource"),d=a("./Component"),e=(a("./extend"),a("events")),f=function(a,b,d){var e=d?this.classes.prefetching:this.classes.fetching;this.$el.addClass(e);var f=this,g=c.prototype.fetchData.call(this,a,b).done(function(){f.$el.removeClass(e||"_"),f.hasError(!1)});return g};f.onerror=function(a,b,d){c.prototype.fetchData.onerror.call(this,a,b,d),this.$el.removeClass(this.classes.fetching||"_").removeClass(this.classes.prefetching||"_"),this.hasError({name:"fetchDataError",request:a,status:b,exception:d})};var g=d.extend(c.prototype,{classes:{fetching:"is-loading",prefetching:"is-preloading",disabled:"is-disabled",hasDataError:"has-dataError"},fetchData:f,dataBindAttribute:"bind",bindData:function(){if(this.data){var a=this.dataBindAttribute,b="[data-"+a+"]",c=this;this.$el.find(b).each(function(){var b=$(this),d=b.data(a),e=c.data[d];b.is(":input")?b.val(e):b.text(e)})}},hasError:function(a){if("undefined"==typeof a)return this._error||null;var b=this._error||null;return this._error=a,this.events.emit("hasErrorChanged",a,b),b}},function(a,b){d.call(this,a,b),this.events=new e.EventEmitter,this.events.component=this,this.data=this.$el.data("source")||this.data||{},"string"==typeof this.data&&(this.data=JSON.parse(this.data)),this.url=this.$el.data("source-url")||this.url;var c=this;this.events.on("hasErrorChanged",function(a,b){a&&"fetchDataError"==a.name?c.$el.addClass(c.classes.hasDataError):b&&"fetchDataError"==b.name&&c.$el.removeClass(c.classes.hasDataError||"_")})});b.exports=g},{"./Component":3,"./DataSource":4,"./extend":6,events:103}],3:[function(a,b){function c(a,b){this.el=a,this.$el=$(a),d(this,b),this.$el.data("component",this)}var d=a("./extend");d.plugIn(c),d.plugIn(c.prototype),b.exports=c},{"./extend":6}],4:[function(a,b){function c(a,b){switch(b||this.updateData.defaultUpdateMode){case j.replacement:this.data=a;break;default:this.data=h(this.data,a)}}function d(a,b){switch(a=h({},this.query,a),b||this.fetchData.defaultRequestMode){case i.single:if(this.fetchData.requests.length)return null;break;case i.replace:for(var c=0;c<this.fetchData.requests.length;c++){try{this.fetchData.requests[c].abort()}catch(d){}this.fetchData.requests=[]}}var e=this,g=this.fetchData.proxy(this.url,a,function(a){var b=e.updateData(a);e.fetchData.requests.splice(e.fetchData.requests.indexOf(g),1),b&&b.name&&g.always(function(){e.fetchData.onerror.call(e,null,b.name,b)})}).fail(f.proxy(this.fetchData.onerror,this));return this.fetchData.requests.push(g),g}function e(){}var f=a("jquery"),g=f.getJSON,h=function(){return f.extend.apply(this,[!0].concat(Array.prototype.slice.call(arguments,0)))},i=e.requestModes={multiple:0,single:1,replace:2},j=e.updateModes={incremental:0,replacement:1};c.defaultUpdateMode=j.incremental,d.requests=[],d.proxy=g,d.defaultRequestMode=i.multiple,d.onerror=function(a,b,c){console&&console.error&&console.error("Fetch data error %o",c)},e.prototype={data:null,url:"/",query:{},updateData:c,fetchData:d},b.exports=e},{}],5:[function(a,b){var c=a("./DataSource"),d=a("./BindableComponent"),e=d.extend({updateData:function(a,b){return a&&0===a.Code?void c.prototype.updateData.call(this,a.Result,b):{name:"data-format",message:a.Result?a.Result.ErrorMessage?a.Result.ErrorMessage:a.Result:"unknow"}}},function(a,b){d.call(this,a,b)});b.exports=e},{"./BindableComponent":2,"./DataSource":4}],6:[function(a,b){function c(a){return f({},a)}function d(a){var b,c=(a.toString(),Object.create(a.prototype));return"function"==typeof a.prototype.___cloned_of&&(a=a.prototype.___cloned_of),b=function(){return a.apply(this,Array.prototype.slice.call(arguments))},c.___cloned_of=a,c.toString=function(){return a.toString()},b.prototype=c,f(b,a),b}function e(){"function"!=typeof Function.prototype.clone&&(Function.prototype.clone=function(){return d(this)}),"function"!=typeof Object.prototype.clone&&(Ojbect.prototype.clone=function(){return c(this)})}var f=function g(a,b){for(var c in b)if(b.hasOwnProperty(c))if(void 0!==b[c])if(-1!=["object","function"].indexOf(typeof a[c])&&"object"==typeof b[c])g(a[c],b[c]);else if("function"==typeof a[c]&&"function"==typeof b[c]){var e=a[c],f=d(b[c]);a[c]=f,g(a[c],e),g(a[c],b[c])}else a[c]=b[c];else delete a[c];if(arguments.length>2){var h=Array.prototype.slice.call(arguments,0);h.splice(1,1),g.apply(this,h)}return a};f.plugIn=function(a){a=a||Object.prototype,a.extendMe=function(){f.apply(this,[this].concat(Array.prototype.slice.call(arguments)))},a.extend=function(){var a=Array.prototype.slice.call(arguments),b="function"==typeof this?this:null,c=b?this.prototype:this,d="function"==typeof a[a.length-1]?a.splice(a.length-1)[0]:null,e=d?d.prototype:{},g=f.apply(this,[e,c].concat(a));return b&&d&&f(d,b),d||g}},"undefined"!=typeof b&&b.exports?b.exports=f:f.plugIn();f.cloneObject=c,f.cloneFunction=d,f.clonePlugIn=e},{}],7:[function(a,b){var c={};c.set=function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}document.cookie=a+"="+b+d+"; path=/"},c.get=function(a){return document.cookie.length>0&&(c_start=document.cookie.indexOf(a+"="),-1!=c_start)?(c_start=c_start+a.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""},"undefined"!=typeof b&&b.exports&&(b.exports=c)},{}],"LC/FacebookConnect":[function(a,b){b.exports=a("4b8n5S")},{}],"4b8n5S":[function(a,b){function c(a){d.extend(this,a),d("#fb-root").length||d('<div id="fb-root" style="display: none"></div>').appendTo("body")}var d=a("jquery"),e=a("./loader"),f=(a("./blockPresets"),a("./LcUrl")),g=a("./popup"),h=a("./redirectTo");a("jquery.blockUI"),c.prototype={appId:null,lang:"en_US",resultType:"json",fbUrlBase:"//connect.facebook.net/@(lang)/all.js",serverUrlBase:f.LangPath+"Account/Facebook/@(urlSection)/?Redirect=@(redirectUrl)&profile=@(profileUrl)",redirectUrl:"",profileUrl:"",urlSection:"",loadingText:"Verifing",permissions:"",libLoadedEvent:"FacebookConnectLibLoaded",connectedEvent:"FacebookConnectConnected"},c.prototype.getFbUrl=function(){return this.fbUrlBase.replace(/@\(lang\)/g,this.lang)},c.prototype.getServerUrl=function(){return this.serverUrlBase.replace(/@\(redirectUrl\)/g,this.redirectUrl).replace(/@\(profileUrl\)/g,this.profileUrl).replace(/@\(urlSection\)/g,this.urlSection)},c.prototype.loadLib=function(){if(!window.FB&&!this._loadingLib){this._loadingLib=!0;var a=this;e.load({scripts:[this.getFbUrl()],complete:function(){FB.init({appId:a.appId,status:!0,cookie:!0,xfbml:!0}),a.loadingLib=!1,d(document).trigger(a.libLoadedEvent)},completeVerification:function(){return!!window.FB}})}},c.prototype.processResponse=function(a){if(a.authResponse){var b=this.getServerUrl();"redirect"==this.resultType?h(b):"json"==this.resultType&&(g(b,"small",null,this.loadingText),d(document).trigger(this.connectedEvent))}},c.prototype.onLibReady=function(a){window.FB?a():(this.loadLib(),d(document).on(this.libLoadedEvent,a))},c.prototype.connect=function(){var a=this;this.onLibReady(function(){FB.login(d.proxy(a.processResponse,a),{scope:a.permissions})})},c.prototype.autoConnectOn=function(a){jQuery(document).on("click",a||"a.facebook-connect",d.proxy(this.connect,this))},b.exports=c},{"./LcUrl":11,"./blockPresets":50,"./loader":77,"./popup":83,"./redirectTo":85}],10:[function(a,b,c){function d(a){var b=e(a);return b.popover({container:"body"}).filter('a[href="#"]').on("click",function(a){a.preventDefault()}),b}var e=a("jquery");a("bootstrap"),c.HelpPoint=d,d.enableAll=function(a){e(a||document).find(".HelpPoint").toArray().forEach(d)}},{}],11:[function(a,b){var c=document.documentElement.getAttribute("data-base-url"),d=document.documentElement.getAttribute("data-culture"),e=window.location,f=e.protocol+"//"+e.host;c=c||"/";var g={SiteUrl:f,AppPath:c,AppUrl:f+c,LangId:d,LangPath:c+d+"/",LangUrl:f+c+d};g.LangUrl=f+g.LangPath,g.JsonPath=g.LangPath+"JSON/",g.JsonUrl=f+g.JsonPath,b.exports=g},{}],12:[function(a,b){function c(a,b,c){var d=0,f=0;b.fixedFeeAmount||b.feeRate?(f=b.fixedFeeAmount||0,d=b.feeRate||0):d=b;var g=e.ceilTo(e.roundTo(a*(1+d)+f,12),c),h=e.roundTo(g-a,2);this.basePrice=a,this.feeRate=d,this.fixedFeeAmount=f,this.roundedDecimals=c,this.totalPrice=g,this.feePrice=h}function d(a,b,c){c=c||{totalPrice:0,feePrice:0,basePrice:0};var d=e.roundTo(a.totalHours(),2);return{totalPrice:e.roundTo(b.totalPrice*d+c.totalPrice*d,2),feePrice:e.roundTo(b.feePrice*d+c.feePrice*d,2),subtotalPrice:e.roundTo(b.basePrice*d+c.basePrice*d,2),durationHours:d}}var e=a("./mathUtils");"undefined"!=typeof b&&b.exports&&(b.exports={Price:c,calculateHourlyPrice:d})},{"./mathUtils":78}],13:[function(){RegExp.quote=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}},{}],"LC/SimpleSlider":[function(a,b){b.exports=a("BhQbxR")},{}],BhQbxR:[function(a,b){var c=a("jquery");a("./RegExp.quote");var d=b.exports=function(a){c.extend(!0,this,a),this.element=c(this.element),this.currentIndex=0;var b=new RegExp("^#"+RegExp.quote(this.hrefPrefix)+"(.*)"),d=this;this.element.on("click","a",function(){var a=this.getAttribute("href"),c=b.exec(a);if(c&&c.length>1){var e=c[1];return"previous"==e?d.goSlide(d.currentIndex-1):"next"==e?d.goSlide(d.currentIndex+1):/\d+/.test(e)&&d.goSlide(parseInt(e)),!1}}),this.redraw=function(){var a=this.getSlides(),b=this.getSlidesContainer(),d=0,e=0;a.each(function(){var a=c(this),b=a.outerWidth(),f=a.outerHeight();b>d&&(d=b),f>e&&(e=f)}),b.css({width:d-(b.outerWidth()-b.width()),position:"relative",overflow:"hidden",whiteSpace:"nowrap"}),a.css({whiteSpace:"normal",display:"inline-block"}).each(function(){var a=c(this);a.css({width:d-(a.outerWidth()-a.width())})}),b[0].scrollLeft=0},this.goSlide=function(a){var b=this.currentIndex;if(b!=a){if(1>a)return!1;var d=this.getSlides();if(a>d.length)return!1;this.currentIndex=a,this.element.find("[href=#"+this.hrefPrefix+a+"]").addClass(this.currentSlideClass).parent("li").addClass(this.currentSlideClass),this.element.find("[href=#"+this.hrefPrefix+b+"]").removeClass(this.currentSlideClass).parent("li").removeClass(this.currentSlideClass);var e=c(d.get(a-1)),f=this.getSlidesContainer(),g=f.scrollLeft()+e.position().left;f.stop().animate({scrollLeft:g},this.duration)}},this.getSlides=function(){return this.element.find(this.selectors.slides).find(this.selectors.slide)},this.getSlidesContainer=function(){return this.element.find(this.selectors.slides)},this.redraw()};d.prototype={element:null,selectors:{slides:".slides",slide:"li.slide"},currentSlideClass:"js-isCurrent",hrefPrefix:"goSlide_",duration:1e3}},{"./RegExp.quote":13}],16:[function(){"contains"in String.prototype||(String.prototype.contains=function(a,b){return-1!==this.indexOf(a,b)})},{}],NBNrUh:[function(a,b){b.exports=function(){for(var a=arguments,b=a[0],c=0;c<a.length;c++){var d=new RegExp("\\{"+c+"\\}","gi");b=b.replace(d,a[c+1])}return b}},{}],StringFormat:[function(a,b){b.exports=a("NBNrUh")},{}],19:[function(a,b,c){var d=a("jquery");a("./jquery.reload"),c.init=function(){d(".tab-body").on("tabFocused",function(){var a=d(this);0===a.children().length&&a.reload()})}},{"./jquery.reload":73}],20:[function(a,b,c){var d=a("jquery"),e=a("./smoothBoxBlock"),f=a("./changesNotification");c.init=function(a,b){var c=d(b||".changes-notification-enabled");f.init({target:c}),d(c).on("lcChangesNotificationChangeRegistered","form",function(){d(this).parents(".tab-body").addClass("has-changes").each(function(){a.getTabContext(this).menuitem.addClass("has-changes").attr("title",d("#lcres-changes-not-saved").text())})}).on("lcChangesNotificationSaveRegistered","form",function(b,c,e,f){f&&d(this).parents(".tab-body:not(:has(form.has-changes))").removeClass("has-changes").each(function(){a.getTabContext(this).menuitem.removeClass("has-changes").attr("title",null)})}).find(".tab-body").on("tabUnfocused",function(b,c){var f=a.getTabContext(this).menuitem;if(f.is(".has-changes")){f.addClass("notify-changes");var g=d('<div class="warning">@0</div><div class="actions"><input type="button" class="action continue" value="@2"/><input type="button" class="action stop" value="@1"/></div>'.replace(/@0/g,LC.getText("changes-not-saved")).replace(/@1/g,LC.getText("tab-has-changes-stay-on")).replace(/@2/g,LC.getText("tab-has-changes-continue-without-change")));return g.on("click",".stop",function(){e.close(window)}).on("click",".continue",function(){e.close(window),f.removeClass("has-changes"),a.focusTab(c.tab.get(0))}),e.open(g,window,"not-saved-popup",{closable:!1,center:!0}),!1}}).on("tabFocused",function(){a.getTabContext(this).menuitem.removeClass("notify-changes")})}},{"./changesNotification":"bQChrF","./smoothBoxBlock":"TinZqq"}],21:[function(a,b){var c=jQuery||a("jquery");a("./jquery.hasScrollBar");var d={init:function(){c("body").delegate(".tabbed > .tabs > li:not(.tabs-slider) > a","click",function(a){var b=c(this);if(d.focusTab(b.attr("href"))){var e=c(document).scrollTop();location.hash=b.attr("href"),c("html,body").scrollTop(e)}a.preventDefault()}).delegate(".tabbed > .tabs-slider > a","mousedown",d.startMoveTabsSlider).delegate(".tabbed > .tabs-slider > a","mouseup mouseleave",d.endMoveTabsSlider).delegate(".tabbed > .tabs-slider > a","click",function(){return!1}).delegate(".tabbed > .tabs-slider-limit","mouseenter",d.startMoveTabsSlider).delegate(".tabbed > .tabs-slider-limit","mouseleave",d.endMoveTabsSlider).delegate(".tabbed > .tabs > li.removable","click",function(a){a.target==a.currentTarget&&d.removeTab(null,this)}),c(".tabbed").each(function(){var a=c(this);0!==a.children(".tabs").length&&(d.setupSlider(a),c(".tabs",this).contents().each(function(){3==this.nodeType&&c(this).remove()}))})},moveTabsSlider:function(){$t=c(this);var a=$t.hasClass("tabs-slider-right")?1:-1,b=$t.parent(),e=b.siblings(".tabs:eq(0)");return e[0].scrollLeft+=20*a,d.checkTabSliderLimits(b.parent(),e),!1},startMoveTabsSlider:function(){var a=c(this),b=a.closest(".tabbed").children(".tabs:eq(0)");b.stop(!0);var e,f=.3,g=function(){d.checkTabSliderLimits(b.parent(),b)};return a.hasClass("right")?(e=1*(b[0].scrollWidth-b[0].scrollLeft-b.width())/f,b.animate({scrollLeft:b[0].scrollWidth-b.width()},{duration:e,step:g,complete:g,easing:"swing"})):(e=1*b[0].scrollLeft/f,b.animate({scrollLeft:0},{duration:e,step:g,complete:g,easing:"swing"})),!1},endMoveTabsSlider:function(){var a=c(this).closest(".tabbed");return a.children(".tabs:eq(0)").stop(!0),d.checkTabSliderLimits(a),!1},checkTabSliderLimits:function(a,b){b=b||a.children(".tabs:eq(0)"),a.children(".tabs-slider-limit-left").toggle(b[0].scrollLeft>0),a.children(".tabs-slider-limit-right").toggle(b[0].scrollLeft+b.width()<b[0].scrollWidth)},setupSlider:function(a){var b=a.children(".tabs-slider");a.children(".tabs").hasScrollBar({x:-2}).horizontal?(a.addClass("has-tabs-slider"),0===b.length?(b=document.createElement("div"),b.className="tabs-slider",c(b).append('<a class="tabs-slider-left left" href="#">&lt;&lt;</a>').append('<a class="tabs-slider-right right" href="#">&gt;&gt;</a>'),a.append(b),a.append('<div class="tabs-slider-limit tabs-slider-limit-left left" href="#"></div>').append('<div class="tabs-slider-limit tabs-slider-limit-right right" href="#"></div>')):b.show()):(a.removeClass("has-tabs-slider"),b.hide()),d.checkTabSliderLimits(a)},getTabContextByArgs:function(a){return 1==a.length&&"string"==typeof a[0]?this.getTabContext(a[0],null):1==a.length&&a[0].tab?a[0]:this.getTabContext(a.length>0?a[0]:null,a.length>1?a[1]:null,a.length>2?a[2]:null)},getTabContext:function(a,b){var d,e,f,g;return a?(f=c(a),1==f.length&&(g=f.parents(".tabbed:eq(0)"),e=g.find("> .tabs > li > a[href=#"+f.get(0).id+"]"),d=e.parent())):b&&(e=c(b),e.is("li")?(d=e,e=d.children("a:eq(0)")):d=e.parent(),g=d.closest(".tabbed"),f=g.find(">.tab-body@0, >.tab-body-list>.tab-body@0".replace(/@0/g,e.attr("href")))),{tab:f,menuanchor:e,menuitem:d,tabContainer:g}},checkTabContext:function(a,b,c,d){return a.tab&&1==a.tab.length&&a.menuitem&&1==a.menuitem.length&&a.tabContainer&&1==a.tabContainer.length&&a.menuanchor&&1==a.menuanchor.length?!0:(!d&&console&&console.error&&console.error("TabbedUX."+b+", bad arguments: "+Array.join(c,", ")),!1)},getTab:function(){var a=this.getTabContextByArgs(arguments);return this.checkTabContext(a,"focusTab",arguments,!0)?a.tab.get(0):null},focusTab:function(){var a=this.getTabContextByArgs(arguments);if(this.checkTabContext(a,"focusTab",arguments)){var b=a.tab.siblings(".current");if(b.triggerHandler("tabUnfocused",[a])!==!1){var c=a.tab.parents(".tab-body:eq(0)");return 1==c.length&&this.focusTab(c),a.menuitem.hasClass("current")||a.menuitem.hasClass("disabled")?!1:(a.menuitem.siblings(".current").removeClass("current").find(">a").removeClass("current"),a.menuitem.addClass("current"),a.menuanchor.addClass("current"),b.removeClass("current"),a.tab.addClass("current").triggerHandler("tabFocused"),!0)}}},focusTabIndex:function(a,b){return a?this.focusTab(this.getTabContext(a.find(">.tab-body:eq("+b+")"))):!1},enableTab:function(){var a=this.getTabContextByArgs(arguments);if(this.checkTabContext(a,"enableTab",arguments)){var b=!1;return a.menuitem.is(".disabled")&&(a.tab.removeClass("disabled").triggerHandler("tabEnabled"),a.menuitem.removeClass("disabled"),b=!0),this.focusTab(a),a.tab.siblings(":not(.disabled)").addClass("disabled").triggerHandler("tabDisabled"),a.menuitem.siblings(":not(.disabled)").addClass("disabled"),b}},showhideDuration:0,showhideEasing:null,showTab:function(){var a=this.getTabContextByArgs(arguments);this.checkTabContext(a,"showTab",arguments)&&(a.tab.show(this.showhideDuration),a.menuitem.show(this.showhideEasing))},hideTab:function(){var a=this.getTabContextByArgs(arguments);this.checkTabContext(a,"hideTab",arguments)&&(a.tab.hide(this.showhideDuration),a.menuitem.hide(this.showhideEasing))},tabBodyClassExceptions:{"tab-body":0,tabbed:0,current:0,disabled:0},createTab:function(a,b,e){if(a=c(a),1==a.length&&a.is(".tabbed")&&null===document.getElementById(b)){var f=document.createElement("div");f.id=b,f.className="tab-body";var g=c(f);c.each(a.children(".tab-body:eq(0)").attr("class").split(/\s+/),function(a,b){b in d.tabBodyClassExceptions||g.addClass(b)}),a.append(f);var h=document.createElement("li");h.className="removable";var i=document.createElement("a");return i.setAttribute("href","#"+b),c(i).text(isEmptyString(e)?"Tab":e),c(h).append(i),a.children(".tabs:eq(0)").append(h),a.triggerHandler("tabCreated",[f]),this.setupSlider(a),f}return!1},removeTab:function(){var a=this.getTabContextByArgs(arguments);if(this.checkTabContext(a,"removeTab",arguments)){if(!a.menuitem.hasClass("removable")&&!a.menuitem.hasClass("volatile"))return!1;a.menuitem.hasClass("current")&&this.focusTabIndex(a.tabContainer,0),a.menuitem.remove();var b=a.tab.get(0).id;return a.tab.remove(),this.setupSlider(a.tabContainer),a.tabContainer.triggerHandler("tabRemoved",[b]),!0}},setTabTitle:function(a,b){var c=d.getTabContext(a);this.checkTabContext(c,"setTabTitle",arguments)&&(isEmptyString(b)||c.menuanchor.text(b))}};d.focusCurrentLocation=function(){if(/^#[^!]/.test(window.location.hash)){var a=d.getTab(window.location.hash);a&&d.focusTab(a)}},d.checkVolatileTabs=function(){c(".tabbed > .tabs > .volatile").each(function(){var a=d.getTab(null,this);a&&(0===c(a).children().length||c(a).find(":not(.tabbed) .volatize-my-tab").length)&&d.removeTab(a)})},"undefined"!=typeof b&&b.exports&&(b.exports=d)},{"./jquery.hasScrollBar":70}],22:[function(a,b,c){var d=a("jquery");c.init=function(){d(".tabbed.slider-tabs").each(function(){var a=d(this),b=a.children(".tab-body"),c=b.wrapAll('<div class="tab-body-list"/>').end().children(".tab-body-list");b.on("tabFocused",function(){c.stop(!0,!1).animate({scrollLeft:c.scrollLeft()+d(this).position().left},1400)});var e=d(a.find(">.tabs>li.current>a").attr("href"));c.scrollLeft(c.scrollLeft()+e.position().left)})}},{}],23:[function(a,b,c){var d=a("jquery"),e=a("./validationHelper"),f=a("./changesNotification"),g=a("./redirectTo"),h=(a("./popup"),a("./ajaxCallbacks")),i=a("./blockPresets");a("jquery.blockUI"),c.init=function(a,b){b=d.extend(!0,{loadingDelay:0},b),d("body").delegate(".tabbed.wizard .next","click",function(){var c=d(this).closest("form"),j=c.closest(".tab-body"),k=(c.closest(".tabbed.wizard"),d(this).data("wizard-next-step")),l={box:j,form:c},m=c.data("unobtrusiveValidation");if(m&&m.validate()===!1)return e.goToSummaryErrors(c),!1;var n=c.data("customValidation");if(n&&n.validate&&n.validate()===!1)return e.goToSummaryErrors(c),!1;j.trigger("beginSubmitWizardStep"),l.loadingtimer=setTimeout(function(){j.block(i.loading)},b.loadingDelay),l.autoUnblockLoading=!0;var o=!1;return l.changedElements=f.registerSave(c.get(0)),d.ajax({url:c.attr("action")||"",type:"POST",context:l,data:c.serialize(),success:function(b,c,e){if(l.form.on("ajaxSuccessPost",function(){k&&(/^#/.test(k)?(d(k).trigger("beginLoadWizardStep"),a.enableTab(k),o=!0,d(k).trigger("endLoadWizardStep")):g(k))}),!h.doJSONAction(b,c,e,l)){var i=new jQuery;try{i=d("function"==typeof d.parseHTML?d.parseHTML(b):b)}catch(m){console&&console.error&&console.error(m)}j.html(i);var n=j;j.is("form")||(n=j.find("form:eq(0)")),f.registerChange(n.get(0),l.changedElements),j.trigger("reloadedHtmlWizardStep")}},error:h.error,complete:h.complete}).complete(function(){j.trigger("endSubmitWizardStep",o)}),!1})}},{"./ajaxCallbacks":"g22qGq","./blockPresets":50,"./changesNotification":"bQChrF","./popup":83,"./redirectTo":85,"./validationHelper":"UpLaI0"}],"BE/3cj":[function(a,b){var c=function(a,b,d,e,f){function g(a){return Math.floor(a/10)+""+a%10}this.days=Math.floor(parseFloat(a))||0,this.hours=Math.floor(parseFloat(b))||0,this.minutes=Math.floor(parseFloat(d))||0,this.seconds=Math.floor(parseFloat(e))||0,this.milliseconds=Math.floor(parseFloat(f))||0,this.toShortString=function(){var a=g(this.hours),b=g(this.minutes);return a+c.unitsDelimiter+b},this.toString=function(){var a=g(this.hours),b=this.days>0?this.days.toString()+c.decimalsDelimiter:"",d=g(this.minutes),e=g(this.seconds+this.milliseconds/1e3);return b+a+c.unitsDelimiter+d+c.unitsDelimiter+e},this.valueOf=function(){return 864e5*this.days+36e5*this.hours+6e4*this.minutes+1e3*this.seconds+this.milliseconds}};c.fromMilliseconds=function(a){var b=a%1e3,d=Math.floor(a/1e3)%60,e=Math.floor(a/6e4)%60,f=Math.floor(a/36e5)%24,g=Math.floor(a/864e5);return new c(g,f,e,d,b)},c.fromSeconds=function(a){return this.fromMilliseconds(1e3*a)},c.fromMinutes=function(a){return this.fromSeconds(60*a)},c.fromHours=function(a){return this.fromMinutes(60*a)},c.fromDays=function(a){return this.fromHours(24*a)},c.unitsDelimiter=":",c.decimalsDelimiter=".",c.parse=function(a){if(a=(a||"").split(this.unitsDelimiter),a.length<2)return null;var b,d,e,f,g;if(d=a[0],e=a[1],f=a.length>2?a[2]:0,d.contains(this.decimalsDelimiter)){var h=d.split(this.decimalsDelimiter);b=h[0],d=h[1]}return g=Math.round(1e3*parseFloat(f.replace(this.decimalsDelimiter,"."))%1e3),new c(b,d,e,f,g)},c.zero=new c(0,0,0,0,0),c.prototype.isZero=function(){return 0===this.days&&0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds},c.prototype.totalMilliseconds=function(){return this.valueOf()},c.prototype.totalSeconds=function(){return this.totalMilliseconds()/1e3},c.prototype.totalMinutes=function(){return this.totalSeconds()/60},c.prototype.totalHours=function(){return this.totalMinutes()/60},c.prototype.totalDays=function(){return this.totalHours()/24},"undefined"!=typeof b&&b.exports&&(b.exports=c)},{}],"LC/TimeSpan":[function(a,b){b.exports=a("BE/3cj")},{}],"LC/TimeSpanExtra":[function(a,b){b.exports=a("so8zgW")},{}],so8zgW:[function(a,b){function c(a){var b=[];return a.days>1?b.push(a.days+" days"):1==a.days&&b.push("1 day"),a.hours>1?b.push(a.hours+" hours"):1==a.hours&&b.push("1 hour"),a.minutes>1?b.push(a.minutes+" minutes"):1==a.minutes&&b.push("1 minute"),a.seconds>1?b.push(a.seconds+" seconds"):1==a.seconds&&b.push("1 second"),a.milliseconds>1?b.push(a.milliseconds+" milliseconds"):1==a.milliseconds&&b.push("1 millisecond"),b.join(", ")}function d(a,b){var c=a.totalHours()%.25,d=a.totalHours();if(c>0)switch(b){case g.roundingTypeEnum.Down:d-=c;break;default:case g.roundingTypeEnum.Nearest:var e=.125;c>=e?d+=.25-c:d-=c;break;case g.roundingTypeEnum.Up:d+=.25-c}return f.fromHours(d)}function e(a){a.prototype.toSmartString=function(){return c(this)},a.prototype.roundToQuarterHour=function(){return d.call(this,parameters)}}var f=a("./TimeSpan"),g=a("./mathUtils");"undefined"!=typeof b&&b.exports&&(b.exports={smartTime:c,roundToQuarterHour:d,plugIn:e})},{"./TimeSpan":"BE/3cj","./mathUtils":78}],28:[function(a,b){function c(a){var b=(a.siblings(".ui-slider-labels").filter(function(){return g(this).data("ui-slider").get(0)==a.get(0)}).remove(),g('<div class="ui-slider-labels"/>'));b.data("ui-slider",a);for(var c=a.slider("option","max"),e=a.slider("option","min"),f=a.slider("option","step"),h=Math.floor((c-e)/f),i=0;h>=i;i++){var j=g('<div class="ui-slider-label"><span class="ui-slider-label-text"/></div>'),k=e+i*f;j.children(".ui-slider-label-text").text(k),j.data("ui-slider-value",k),d(j,i,h),b.append(j)}b.on("click",".ui-slider-label",function(){var a=g(this).data("ui-slider-value"),b=g(this).parent().data("ui-slider");b.slider("value",a)}),a.after(b)}function d(a,b,c){var d=100/c,e=b*d-.5*d,f=100-e-d,g="center";0===b?(g="left",e=0):b==c&&(g="right",f=0),a.css({"text-align":g,left:e+"%",right:f+"%"})}function e(a){var b=a.siblings(".ui-slider-labels").filter(function(){return g(this).data("ui-slider").get(0)==a.get(0)}),c=b.find(".ui-slider-label-text");"true"==(a.data("slider-autosize")||!1).toString()&&f(a,c);var d=a.data("slider-labels-layout")||"standard",e=d in k?k[d]:k.standard;b.addClass("layout-"+d),e(a,b,c),h.createTooltip(b.children(),{title:function(){return g(this).text()},persistent:!0})}function f(a,b){var c=0;b.each(function(){c+=g(this).outerWidth(!0)});var d=a.closest(".ui-slider-container"),e=parseFloat(d.css("max-width")),f=parseFloat(d.css("min-width"));e!=Number.NaN&&c>e&&(c=e),f!=Number.NaN&&f>c&&(c=f),d.width(c)}var g=a("jquery"),h=a("./tooltips"),i=a("./mathUtils"),j=a("./TimeSpan");a("jquery-ui");var k={};k.standard=function(a,b,c){var d=0;if(c.each(function(){var a=g(this).outerWidth(!0);a>=d&&(d=a)}),d>0){{var e=Math.ceil(d/(a.width()/c.length));c.length/e}if(e>1)for(var f=0,h=c.length-1-e,i=0;i<c.length;i++){var j=g(c[i]);if(i+1<c.length&&(i%e||i>h))j.hide().parent().removeClass("visible");else{{j.show().parent().addClass("visible")}f++}}}},k.hours=function(a,b,c,d){var e=a.find(".integer-hour");e.length||c.each(function(){var a=g(this);if(!a.data("hour-processed")){var b=parseFloat(a.text());b!=Number.NaN&&(b=i.roundTo(b,2),b%1>0?(a.addClass("decimal-hour").hide().parent().removeClass("visible"),b%.5===0&&a.parent().addClass("strong"),a.text(j.fromHours(b).toShortString())):(a.addClass("integer-hour").show().parent().addClass("visible"),e=e.add(a))),a.data("hour-processed",!0)}}),d!==!0&&k.standard(a,e.parent(),e)},k["all-values"]=function(a,b){b.show().addClass("visible").children().show()},k["all-hours"]=function(){Array.prototype.push.call(arguments,!0),k.hours.apply(this,arguments)},b.exports={create:c,update:e,layouts:k}},{"./TimeSpan":"BE/3cj","./mathUtils":78,"./tooltips":"3mmOyL"}],g22qGq:[function(a,b){function c(a,b,c){if("abort"!=b&&4==a.readyState){var d=b,e=null;size=j.size("large"),size.height-=34,"error"==d?(e=m(a.responseText,size),e.attr("id","blockUIIframe"),d=null):d=d+"; "+c,i.blockUI(errorBlock(d,null,j.style(size))),e&&i(".blockMsg").append(e),i(".blockUI .close-popup").click(function(){return i.unblockUI(),!1})}}function d(){clearTimeout(this.loadingtimer||this.loadingTimer),this.autoUnblockLoading&&(p.close(this.box),this.box.unblock())}function e(a,b,c){var d=this;if(d.element&&(d.form=d.element),d.form||(d.form=i(this)),d.box||(d.box=d.form),d.autoUnblockLoading=!0,!h(a,b,c,d)){var e=new jQuery;if(i.trim(a))try{e=i("function"==typeof i.parseHTML?i.parseHTML(a):a)}catch(f){return void(console&&console.error&&console.error(f))}d.boxIsContainer=d.boxIsContainer;var g=d.options&&"replace-content"===d.options.mode||"replace-content"===d.box.data("reload-mode"),j=e;d.isReload||(j=e.filter(".ajax-box"),0===j.length&&(j=e),d.boxIsContainer||j.is(".ajax-box")||(j=e.find(".ajax-box:eq(0)")),j&&0!==j.length||(j=e),g&&(j=j.is(".ajax-box")?j.contents():j)),g?d.box.empty().append(j):d.boxIsContainer?d.box.html(j):(d.box.replaceWith(j),d.box=j),d.box.is("form.ajax")||d.box.is("fieldset.ajax")?d.form=d.box:(d.form=d.box.find("form.ajax:eq(0)"),0===d.form.length&&(d.form=d.box.find("fieldset.ajax:eq(0)"))),d.changedElements&&l.registerChange(d.form.get(0),d.changedElements);var k=j.find(".validation-summary-errors");k.length&&o(k),d.form.trigger("ajaxFormReturnedHtml",[j,d.form,c])}}function f(a,b,c){a.box.unblock(),b=b||a.form.data("success-post-message")||"Done!",a.box.block(infoBlock(b,{css:j.style(j.size("small"))})).on("click",".close-popup",function(){return a.box.unblock(),a.box.trigger("ajaxSuccessPostMessageClosed",[c]),!1}),a.autoUnblockLoading=!1}function g(a,b){a.box.unblock();var c=i('<div class="ok-go-box"/>');c.append(i('<span class="success-message"/>').append(b.SuccessMessage)),b.AdditionalMessage&&c.append(i('<div class="additional-message"/>').append(b.AdditionalMessage));var d=i('<a class="action ok-action close-action" href="#ok"/>').append(b.OkLabel),e="";b.GoURL&&b.GoLabel&&(e=i('<a class="action go-action"/>').attr("href",b.GoURL).append(b.GoLabel),e.click(function(){d.click(),a.box.trigger("ajaxSuccessPostMessageClosed",[b])})),c.append(i('<div class="actions clearfix"/>').append(d).append(e)),p.open(c,a.box,null,{closeOptions:{complete:function(){a.box.trigger("ajaxSuccessPostMessageClosed",[b])}}}),a.autoUnblockLoading=!1}function h(b,c,d,e){if("object"==typeof b){if(e&&e.box&&k.setValidationSummaryAsValid(e.box),0===b.Code)f(e,b.Result,b),e&&e.form&&e.form.trigger&&e.form.trigger("ajaxSuccessPost",[b,c,d]);else if(1==b.Code)n(b.Result);else if(2==b.Code)e&&e.block&&e.box.unblock&&e.box.unblock(),j(b.Result,{width:410,height:320});else if(3==b.Code)e.autoUnblockLoading=!1,e&&e.box&&e.box.reload&&e.box.reload(b.Result);else if(4==b.Code)e.box.on("ajaxSuccessPostMessageClosed",function(){n(b.Result.RedirectURL)}),f(e,b.Result.SuccessMessage,b);else if(5==b.Code){var h=e.form.find(".main-action"),m=h.data("default-text");m||h.data("default-text",h.text());var o=b.Result||h.data("success-post-text")||"Done!";h.text(o),i(e.form).one("lcChangesNotificationChangeRegistered",function(){h.text(h.data("default-text"))}),e.form.trigger("ajaxSuccessPost",[b,c,d])}else if(6==b.Code)g(e,b.Result),e.form.trigger("ajaxSuccessPost",[b,c,d]);else if(7==b.Code)f(e,b.Result.Message,b),e.form.trigger("ajaxSuccessPost",[b,c,d]);else if(8==b.Code){var q=a("./validationHelper");q.setErrors(e.form,b.Result.Errors)}else if(b.Code>100)e.form.trigger("ajaxSuccessPost",[b,c,d,e]);else{e.changedElements&&l.registerChange(e.form.get(0),e.changedElements),e.box.unblock();var r="Error: "+b.Code+": "+JSON.stringify(b.Result?b.Result.ErrorMessage?b.Result.ErrorMessage:b.Result:"");p.open(i("<div/>").append(r),e.box,null,{closable:!0}),e.autoUnblockLoading=!1}return!0}return!1}var i=a("jquery");a("jquery.blockUI");var j=a("./popup"),k=a("./validationHelper"),l=a("./changesNotification"),m=a("./createIframe"),n=a("./redirectTo"),o=a("./moveFocusTo"),p=a("./smoothBoxBlock");
"undefined"!=typeof b&&b.exports&&(b.exports={error:c,success:e,complete:d,doJSONAction:h})},{"./changesNotification":"bQChrF","./createIframe":53,"./moveFocusTo":"lyuNFv","./popup":83,"./redirectTo":85,"./smoothBoxBlock":"TinZqq","./validationHelper":"UpLaI0"}],"LC/ajaxCallbacks":[function(a,b){b.exports=a("g22qGq")},{}],"0NFXny":[function(a,b){function c(){k.complete.apply(this,arguments)}function d(){var a=this;a.form||(a.form=j(this)),a.box||(a.box=a.form),a.changedElements&&l.registerChange(a.form,a.changedElements),a.autoUnblockLoading=!0,k.error.apply(a,arguments)}function e(){k.success.apply(this,arguments)}function f(a){var b=!0,c=a.form.is("fieldset.ajax"),d=c?a.form.closest("form"):a.form,e=new jQuery,f=new jQuery;if(c){var g=function(a){return function(){return!j.contains(a,this)}}(a.form.get(0));e=d.find("[data-valmsg-summary=true]").filter(g).attr("data-valmsg-summary","false"),f=d.find("[data-val=true]").filter(g).attr("data-val","false")}var h=d.data("unobtrusiveValidation");return h&&h.validate()===!1&&(n.goToSummaryErrors(a.form),b=!1),a.form.add(a.form.find("fieldset")).each(function(){var c=j(this).data("customValidation");c&&c.validate&&c.validate()===!1&&(n.goToSummaryErrors(a.form),b=!1)}),c&&a.form.find(".input-validation-error").length&&(b=!1),c&&(e.attr("data-valmsg-summary","true"),f.attr("data-val","true")),b}function g(a){var b={};b.form=(a.data?a.data.form:null)||j(this),b.box=(a.data?a.data.box:null)||b.form.closest(".ajax-box");var g=(a.data?a.data.action:null)||b.form.attr("action")||"",h=b.form.data("post-validation"),i=b.form.data("xhr-requests")||[];if(b.form.data("xhr-requests",i),!h&&f(b)===!1)return!1;b.changedElements=(a.data?a.data.changedElements:null)||l.registerSave(b.form.get(0)),b.form.trigger("presubmit",[b]),b.loadingtimer=setTimeout(function(){b.box.block(m.loading)},o.loadingDelay),b.autoUnblockLoading=!0;var k=b.form.find(":input").serialize();j.each(i,function(a){a&&a.abort&&a.abort()});var n=j.ajax({url:g,type:"POST",data:k,context:b,success:e,error:d,complete:c});i.push(n);var p=i.length-1;return n.always(function(){delete i[p]}),h&&"never"!==h&&n.done(function(){f(b)}),!1}function h(a,b){a=j(a);var c=a.attr("action")||a.data("ajax-fieldset-action")||"",d={form:a,box:a};a.trigger("presubmit",[d]);var e=d.form.find(":input").serialize(),f=j.ajax({url:c,type:"POST",data:e,context:d,success:function(){b&&l.registerSave(a.closest("form").get(0),b)}}),g=a.data("xhr-requests")||[];a.data("xhr-requests",g),g.push(f);var h=g.length-1;return f.always(function(){delete g[h]}),f}function i(a){j.extend(!0,o,a),j(o.element).on("submit","form.ajax",g),j(o.element).on("click","fieldset.ajax .ajax-fieldset-submit",function(a){var b=j(this).closest("fieldset.ajax");return a.data={form:b,box:b.closest(".ajax-box"),action:b.data("ajax-fieldset-action"),changedElements:l.registerSave(b.get(0),b.find(":input[name]"))},g(a)})}{var j=a("jquery"),k=a("./ajaxCallbacks"),l=a("./changesNotification"),m=a("./blockPresets"),n=a("./validationHelper");a("./getXPath")}jQuery=j;var o={loadingDelay:0,element:document};"undefined"!=typeof b&&b.exports&&(b.exports={init:i,onSuccess:e,onError:d,onComplete:c,doInstantSaving:h})},{"./ajaxCallbacks":"g22qGq","./blockPresets":50,"./changesNotification":"bQChrF","./getXPath":61,"./validationHelper":"UpLaI0"}],"LC/ajaxForms":[function(a,b){b.exports=a("0NFXny")},{}],33:[function(a,b){function c(){$("table.calculate-items-totals").each(function(){function a(){var a=$(this),b=a.closest("tr"),c=b.find(".calculate-item-price"),d=b.find(".calculate-item-quantity"),e=b.find(".calculate-item-total");g.setMoneyNumber(g.getMoneyNumber(c)*g.getMoneyNumber(d,1),e),b.trigger("lcCalculatedItemTotal",b)}$(this).data("calculate-items-totals-initializated")||($(this).find(".calculate-item-price, .calculate-item-quantity").on("change",a),$(this).find("tr").each(a),$(this).data("calculate-items-totals-initializated",!0))})}function d(a){$(".calculate-summary").each(function(){function b(){var a=0,b=0,c=0,f={};e.each(function(){var d=0,e=$(this).is(".calculate-all-items");$(this).find("tr").each(function(){var a=$(this);if(e||a.find(".calculate-item-checked").is(":checked")){d+=g.getMoneyNumber(a.find(".calculate-item-total:eq(0)"));var f=g.getMoneyNumber(a.find(".calculate-item-quantity:eq(0)"),1);b+=g.getMoneyNumber(a.find(".calculate-item-fee:eq(0)"))*f,c+=g.getMoneyNumber(a.find(".calculate-item-duration:eq(0)"))*f}}),a+=d,f[$(this).data("calculation-summary-group")]=d,g.setMoneyNumber(d,$(this).closest("fieldset").find(".group-total-price")),g.setMoneyNumber(c,$(this).closest("fieldset").find(".group-total-duration"))}),g.setMoneyNumber(a,d.find(".calculation-summary-total")),g.setMoneyNumber(b,d.find(".calculation-summary-fee"));for(var h in f)g.setMoneyNumber(f[h],d.find(".calculation-summary-group-"+h))}var c=$(this);if(a||!c.data("calculate-summary-initializated")){var d=c.find(".calculation-summary"),e=c.find("table.calculate-summary-group");e.find(".calculate-item-checked").change(b),e.on("lcCalculatedItemTotal",b),b(),c.data("calculate-summary-initializated",!0)}})}function e(){$(".pricing-summary.detailed").each(function(){var a=$(this),b=a.find("tbody.detail"),c=a.find("tbody.detail-tpl").children("tr:eq(0)"),d=a.closest("form"),e=d.find(".pricing-summary-item");b.children().remove(),e.each(function(){var a=$(this),d=a.find(".pricing-summary-item-checked").prop("checked");if(d){var e=a.find(".pricing-summary-item-concept").text(),f=g.getMoneyNumber(a.find(".pricing-summary-item-price:eq(0)")),h=c.clone().removeClass("detail-tpl").addClass("detail");h.find(".pricing-summary-item-concept").text(e),g.setMoneyNumber(f,h.find(".pricing-summary-item-price")),b.append(h)}})})}function f(){var a=$(".pricing-summary.detailed").closest("form");e(),a.find(".pricing-summary-item-checked").change(e),a.on("lcCalculatedItemTotal",e)}var g=a("./numberUtils");"undefined"!=typeof b&&b.exports&&(b.exports={onTableItems:c,onSummary:d,updateDetailedPricingSummary:e,onDetailedPricingSummary:f})},{"./numberUtils":81}],34:[function(a,b){function c(a,b){a=d(a||document),a.find(b||"[autofocus]").focus()}var d=a("jquery");"undefined"!=typeof b&&b.exports&&(b.exports=c)},{}],35:[function(a,b){var c=a("jquery");b.exports=function(){c(".autofill-submenu .current").each(function(){var a=c(this),b=c(".autofill-submenu-items li:not(.removable)");if(b.length>0){var d=document.createElement("ul");a.append(d);var e=b.clone(!1,!1);c(d).append(e),e.find("a").click(function(){return c("a[href='"+this.getAttribute("href")+"']",b).click(),c(this).parent().parent().find("a").removeClass("current"),c(this).addClass("current"),!1}),b.find("a").click(function(){e.parent().find("a").removeClass("current").filter("*[href='"+this.getAttribute("href")+"']").addClass("current")})}})}},{}],36:[function(a,b){var c=a("jquery"),d=a("LC/dateISO8601"),e=a("./objectUtils");a("date-format-lite"),b.exports=function(a){this.$el=c(a),this.$list=this.$el.find("ul"),this.$list.length||(this.$list=c("<ul/>").appendTo(this.$el)),this.registered={},this.register=function(a,b,c){var d=this.registered;if(a){var f=b.slots[c].eventsIds;f&&(d[c]=e.filterProperties(b.events,function(a){return-1!=f.indexOf(a)}))}else delete d[c]},this.render=function(){this.$list.children().remove();var a=!1;for(var b in this.registered)if(this.registered.hasOwnProperty(b)){var e=this.registered[b],f=d.parse(b).format("DDDD, MMM D"),g=c("<span/>").text(f+": ").outerHtml(),h=[];for(var i in e)if(e.hasOwnProperty(i)){var j=e[i],k=c('<a target="_blank" />').attr("href",j.url).text(j.summary||"booking");h.push(k.outerHtml()),a=!0}g+=h.join(", "),c("<li/>").html(g).appendTo(this.$list)}a?this.$el.show():this.$el.hide()}}},{"./objectUtils":46,"LC/dateISO8601":"rgrJsD","date-format-lite":102}],37:[function(a,b){function c(a,b){var c=m.date.nextMonthWeeks(m.date.addDays(b.start,7),1,a.showSixWeeks),d=c.start,e=j.dateLocal(c.end),f=j.dateLocal(d,!0);if(a.data&&a.data.slots)for(;a.data.slots[f]&&e>=f;)c.start=d=m.date.addDays(d,1),f=j.dateLocal(d,!0);if(!m.monthlyIsDataInCache(a,c)){var g=m.datesToQuery(c);a.fetchData(g,null,!0)}}function d(a,b){var e=m.date.nextMonthWeeks(m.date.addDays(a.datesRange.start,7),b,a.showSixWeeks),f=m.monthlyIsDataInCache(a,e);if(f)a.bindData(e),0===a.fetchData.requests.length&&c(a,e);else{if(a.fetchData.requests.length){var g=a.fetchData.requests[a.fetchData.requests.length-1];return a.$el.addClass(a.classes.fetching),void g.done(function(){d(a,b),a.$el.removeClass(a.classes.fetching||"_")})}a.fetchData(m.datesToQuery(e)).done(function(){a.bindData(e),c(a,e)})}}function e(a,b,c){var d=m.date.addDays(b,7),e=m.date.isInCurrentMonth(d);a.toggleClass(c.classes.currentWeek,e),a.find("."+c.classes.prevAction).prop("disabled",e);var f=c.texts.months[d.getMonth()]+" "+d.getFullYear();a.find("."+c.classes.monthLabel).text(f),a.find("."+c.classes.todayAction).prop("disabled",e)}function f(a,b,c,d,e,f){var h,i=m.date.addDays(a.start,7).getMonth(),k=j.dateLocal(new Date);g(a,b,function(a,b,f){h=f,this.find("."+e).text(a.getDate()),this.toggleClass(c,a.getMonth()!=i),this.toggleClass(d,j.dateLocal(a)==k)}),f||b.children("tr:eq(5)").xtoggle(4!=h,{effect:"height",duration:0})}function g(a,b,c){var d,e,f;m.date.eachDateInRange(a.start,a.end,function(a,g){d=g%7,e=Math.floor(g/7),f=b.children("tr:eq("+e+")").children("td:eq("+d+")"),c.apply(f,[a,d,e,g])})}function h(a,b){if(a.data&&a.data.slots){var c=b.closest("tr"),d=c.find("td").index(b),e=c.closest("tbody").find("tr").index(c),f=7*e+d,g=a.datesRange.start;g=m.date.addDays(g,f);var h=j.dateLocal(g,!0),i=a.data.slots[h];i&&(i.status="unavailable"==i.status?"available":"unavailable",i.source="user",a.bookingsNotification.register("unavailable"==i.status,a.data,h),a.events.emit(p.dataChanged,b,i),a.bindData())}}var i=a("jquery"),j=a("LC/dateISO8601"),k=a("../CX/LcWidget"),l=a("../CX/extend"),m=a("./utils"),n=a("./objectUtils"),o=a("./BookingsNotification"),p={dataChanged:"dataChanged"},q=k.extend({classes:l({},m.weeklyClasses,{weeklyCalendar:void 0,currentWeek:void 0,currentMonth:"is-currentMonth",monthlyCalendar:"AvailabilityCalendar--monthly",todayAction:"Actions-today",monthLabel:"AvailabilityCalendar-monthLabel",slotDateLabel:"AvailabilityCalendar-slotDateLabel",offMonthDate:"AvailabilityCalendar-offMonthDate",currentDate:"AvailabilityCalendar-currentDate",editable:"is-editable",bookingsNotification:"AvailabilityCalendar-bookingsNotification"}),texts:l({},m.weeklyTexts,{months:["January","February","March","April","May","June","July","August","September","October","November","December"]}),url:"/calendar/get-availability/",showSixWeeks:!0,editable:!1,datesRange:{start:null,end:null},bindData:function(a){if(this.data&&this.data.slots){this.datesRange=a=a||this.datesRange;var b=this.$el.find("."+this.classes.slots),c=b.find("td");e(this.$el,a.start,this),f(this.datesRange,b,this.classes.offMonthDate,this.classes.currentDate,this.classes.slotDateLabel,this.showSixWeeks);for(var d=0;d<m.statusTypes.length;d++)c.removeClass(this.classes.slotStatusPrefix+m.statusTypes[d]||"_");var h=this;g(a,b,function(a){var b=j.dateLocal(a,!0),c=h.data.slots[b],d=i.isPlainObject(c)?c.status:c;d=d||h.data.defaultStatus||"unknow",d&&this.addClass(h.classes.slotStatusPrefix+d)}),this.bookingsNotification.render()}},getUpdatedData:function(){var a={};return this.editable&&(l(a,this.data),a.slots=n.filterProperties(a.slots,function(a,b){return"user"==b.source})),a}},function(a,b){k.call(this,a,b);var f=this;this.user=this.user||this.$el.data("calendar-user"),this.query=l({user:this.user,type:"monthly-schedule"},this.query),b&&"undefined"!=typeof b.editable||"undefined"==typeof this.$el.data("editable")||(this.editable=!!this.$el.data("editable")),this.$el.on("click","."+this.classes.prevAction,function(){d(f,-1)}),this.$el.on("click","."+this.classes.nextAction,function(){d(f,1)}),this.$el.on("click","."+this.classes.todayAction,function(){f.bindData(m.date.currentMonthWeeks(null,this.showSixWeeks))}),this.editable&&(this.query.editable=!0,this.$el.on("click","."+this.classes.slots+" td",function(){h(f,i(this))}),this.$el.addClass(this.classes.editable)),this.bookingsNotification=new o(this.$el.find("."+this.classes.bookingsNotification));var g=m.date.currentMonthWeeks(null,this.showSixWeeks);this.fetchData(m.datesToQuery(g)).done(function(){f.bindData(g),c(f,g)}),e(this.$el,g.start,this),this.events.on("hasErrorChanged",m.handlerCalendarError)});q.enableAll=function(a){var b=[];return i("."+q.prototype.classes.monthlyCalendar).each(function(){b.push(new q(this,a))}),b},b.exports=q},{"../CX/LcWidget":5,"../CX/extend":6,"./BookingsNotification":36,"./objectUtils":46,"./utils":47,"LC/dateISO8601":"rgrJsD"}],38:[function(a,b){var c=a("jquery"),d=a("LC/dateISO8601"),e=a("../CX/LcWidget"),f=(a("../CX/extend"),a("./utils")),g=e.extend({classes:f.weeklyClasses,texts:f.weeklyTexts,url:"/calendar/get-availability/",datesRange:{start:null,end:null},bindData:function(a){if(this.data&&this.data.slots){this.datesRange=a=a||this.datesRange;var b=this.$el.find("."+this.classes.slots),c=b.find("td");f.checkCurrentWeek(this.$el,a.start,this),f.updateLabels(a,this.$el,this);for(var e=0;e<f.statusTypes.length;e++)c.removeClass(this.classes.slotStatusPrefix+f.statusTypes[e]||"_");if(this.data&&this.data.defaultStatus&&(c.addClass(this.classes.slotStatusPrefix+this.data.defaultStatus),this.data.slots&&this.data.status)){var g=this;f.date.eachDateInRange(a.start,a.end,function(a,c){var h=d.dateLocal(a,!0),i=g.data.slots[h];if(i)for(e=0;e<i.length;e++){var j=i[e],k=f.findCellBySlot(b,c,j);k.removeClass(g.classes.slotStatusPrefix+g.data.defaultStatus||"_"),k.addClass(g.classes.slotStatusPrefix+g.data.status)}})}}}},function(a,b){e.call(this,a,b);var c=this;this.user=this.$el.data("calendar-user"),this.query={user:this.user,type:"weekly"};var d=f.date.currentWeek();this.fetchData(f.datesToQuery(d)).done(function(){c.bindData(d),f.weeklyCheckAndPrefetch(c,d)}),f.checkCurrentWeek(this.$el,d.start,this),this.$el.on("click","."+this.classes.prevAction,function(){f.moveBindRangeInDays(c,-7)}),this.$el.on("click","."+this.classes.nextAction,function(){f.moveBindRangeInDays(c,7)}),this.events.on("hasErrorChanged",f.handlerCalendarError)});g.enableAll=function(a){var b=[];return c("."+g.prototype.classes.weeklyCalendar).each(function(){b.push(new g(this,a))}),b},b.exports=g},{"../CX/LcWidget":5,"../CX/extend":6,"./utils":47,"LC/dateISO8601":"rgrJsD"}],39:[function(a,b){function c(){function a(a){var b=h.findSlotByCell(m,a),c=l.data.slots[h.systemWeekDays[b.day]]=l.data.slots[h.systemWeekDays[b.day]]||[],d=e.timeLocal(b.slot,!0),f=c.indexOf(d);-1==f?c.push(d):c.splice(f,1),l.events.emit(k.dataChanged,a,b)}function b(b,c){var d=b.siblings("td").andSelf().index(b),e=b.closest("tr").index(),f=c.closest("tr").index();if(e>f){var g=e;e=f,f=g}for(var h=e;f>=h;h++){var i=b.closest("tbody").children("tr:eq("+h+")").children("td:eq("+d+")");a(i)}}function c(a,b){var c=d(a.offsetParent).bounds(),e={};return e.top=b.top-c.top,e.left=b.left-c.left,e.height=b.bottom-b.top,e.width=b.right-b.left,d(a).css(e),e}function f(a){var b=n.first.bounds({includeBorder:!0}),d=a.bounds({includeBorder:!0}),e=n.selectionLayer.bounds({includeBorder:!0});e.top=b.top<d.top?b.top:d.top,e.bottom=b.bottom>d.bottom?b.bottom:d.bottom,c(n.selectionLayer[0],e)}function g(){return n.first&&n.last&&(b(n.first,n.last),l.bindData(),n.done=!0),n.first=n.last=null,n.selectionLayer.hide(),j.off(l.$el),!0}var l=this,m=this.$el.find("."+this.classes.slots),n={first:null,last:null,selectionLayer:d('<div class="SelectionLayer" />').appendTo(this.$el),done:!1};this.$el.find(m).on("click","td",function(){return n.done?!1:(a(d(this)),l.bindData(),!1)}),this.$el.find(m).on("mousedown","td",function(){n.done=!1,n.first=d(this),n.last=null,n.selectionLayer.show(),j(l.$el),i();var a=n.first.bounds({includeBorder:!0});c(n.selectionLayer[0],a)}).on("mouseenter","td",function(){n.first&&(n.last=d(this),f(n.last))}).on("mouseup",g).find("td").attr("draggable",!1),n.selectionLayer.on("mouseup",g).attr("draggable",!1)}var d=a("jquery"),e=a("LC/dateISO8601"),f=a("../CX/LcWidget"),g=a("../CX/extend"),h=a("./utils"),i=a("./clearCurrentSelection"),j=a("./makeUnselectable");a("../jquery.bounds");var k={dataChanged:"dataChanged"},l=f.extend({classes:g({},h.weeklyClasses,{weeklyCalendar:void 0,workHoursCalendar:"AvailabilityCalendar--workHours"}),texts:h.weeklyTexts,url:"/calendar/get-availability/",bindData:function(){for(var a=this.$el.find("."+this.classes.slots),b=a.find("td"),c=0;c<h.statusTypes.length;c++)b.removeClass(this.classes.slotStatusPrefix+h.statusTypes[c]||"_");if(this.data&&this.data.defaultStatus&&(b.addClass(this.classes.slotStatusPrefix+this.data.defaultStatus),this.data.slots&&this.data.status))for(var d=this,e=0;e<h.systemWeekDays.length;e++){var f=d.data.slots[h.systemWeekDays[e]];if(f&&f.length)for(c=0;c<f.length;c++){var g=f[c],i=h.findCellBySlot(a,e,g);i.removeClass(d.classes.slotStatusPrefix+d.data.defaultStatus||"_"),i.addClass(d.classes.slotStatusPrefix+d.data.status)}}}},function(a,b){f.call(this,a,b);var d=this;this.user=this.$el.data("calendar-user"),this.query={user:this.user,type:"workHours"},this.fetchData().done(function(){d.bindData()}),c.call(this),this.events.on("hasErrorChanged",h.handlerCalendarError)});l.enableAll=function(a){var b=[];return d("."+l.prototype.classes.workHoursCalendar).each(function(){b.push(new l(this,a))}),b},b.exports=l},{"../CX/LcWidget":5,"../CX/extend":6,"../jquery.bounds":69,"./clearCurrentSelection":40,"./makeUnselectable":45,"./utils":47,"LC/dateISO8601":"rgrJsD"}],40:[function(a,b){b.exports=function(){"function"==typeof window.getSelection?window.getSelection().removeAllRanges():document.selection&&"function"==typeof document.selection.empty&&document.selection.empty()}},{}],41:[function(a,b,c){function d(){return{start:f(new Date),end:g(new Date)}}function e(a,b){return a.end&&(b=a.end,a=a.start),b=b||i(a,7),{start:i(a,7),end:i(b,7)}}function f(a){var b=new Date(a);return b.setDate(b.getDate()-b.getDay()),b}function g(a){var b=new Date(a);return b.setDate(b.getDate()+(6-b.getDay())),b}function h(a){return t.dateLocal(f(a))==t.dateLocal(f(new Date))}function i(a,b){var c=new Date(a);return c.setDate(c.getDate()+b),c}function j(a,b,c){if(!c.call)throw new Error('fn must be a function or "call"able object');for(var d,e=new Date(a),f=0;b>=e&&(d=c.call(c,e,f),d!==!1);)e.setDate(e.getDate()+1),f++}function k(a){var b=new Date(a);return b.setDate(1),b}function l(a){var b=new Date(a);return b.setMonth(b.getMonth()+1,1),b=i(b,-1)}function m(a){return t.dateLocal(k(a))==t.dateLocal(k(new Date))}function n(a){return a=a||new Date,{start:k(a),end:l(a)}}function o(a,b){b=b||1;var c=new Date(a);return{start:c.setMonth(c.getMonth()+b,1),end:l(c)}}function p(a,b){return o(a,0-b)}function q(a,b){var c=n(a),d=f(c.start),e=b?i(d,41):g(c.end);return{start:d,end:e}}function r(a,b,c){return q(o(a,b).start,c)}function s(a,b,c){return q(p(a,b).start,c)}var t=a("LC/dateISO8601");c.currentWeek=d,c.nextWeek=e,c.getFirstWeekDate=f,c.getLastWeekDate=g,c.isInCurrentWeek=h,c.addDays=i,c.eachDateInRange=j,c.getFirstMonthDate=k,c.getLastMonthDate=l,c.isInCurrentMonth=m,c.currentMonth=n,c.nextMonth=o,c.previousMonth=p,c.currentMonthWeeks=q,c.nextMonthWeeks=r,c.previousMonthWeeks=s},{"LC/dateISO8601":"rgrJsD"}],42:[function(a,b){b.exports=function(a,b){var c=b,d=a.getMonth()+1,e=a.getDate();return c=c.replace(/M/g,d),c=c.replace(/D/g,e)}},{}],qcqtAx:[function(a,b,c){c.Weekly=a("./Weekly"),c.WorkHours=a("./WorkHours"),c.Monthly=a("./Monthly")},{"./Monthly":37,"./Weekly":38,"./WorkHours":39}],"LC/availabilityCalendar":[function(a,b){b.exports=a("qcqtAx")},{}],45:[function(a,b){var c=a("jquery");b.exports=function(){var a=function(){return!1},b={"-webkit-touch-callout":"none","-khtml-user-drag":"none","-webkit-user-drag":"none","-khtml-user-select":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},d={"-webkit-touch-callout":"inherit","-khtml-user-drag":"inherit","-webkit-user-drag":"inherit","-khtml-user-select":"inherit","-webkit-user-select":"inherit","-moz-user-select":"inherit","-ms-user-select":"inherit","user-select":"inherit"},e=function(d){d=c(d),d.on("selectstart",a),d.css(b)},f=function(b){b=c(b),b.off("selectstart",a),b.css(d)};return e.off=f,e}()},{}],46:[function(a,b){var c={};c.eachProperty=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b.call(a,c,a[c])},c.filterProperties=function(a,b){var d={};return c.eachProperty(a,function(c,e){b.call(a,c,e)&&(d[c]=e)}),d},b.exports=c},{}],47:[function(a,b,c){function d(a){var b="";a&&a.message?b=a.message:a&&a.exception&&a.exception.message&&(b=a.exception.message);var c=this.component,d=c.$el.find("."+c.classes.errorMessage);b&&(b=(d.data("message-prefix")||"")+b),d.text(b)}function e(a,b){var c=p.addDays(a.datesRange.start,b),d=p.addDays(a.datesRange.end,b),h=m(c,d),i=f(a,h);if(i)a.bindData(h),0===a.fetchData.requests.length&&g(a,h);else{if(a.fetchData.requests.length){var j=a.fetchData.requests[a.fetchData.requests.length-1];return a.$el.addClass(a.classes.fetching),void j.done(function(){e(a,b),a.$el.removeClass(a.classes.fetching||"_")})}a.fetchData(l(h)).done(function(){a.bindData(h),g(a,h)})}}function f(a,b){if(!a.data||!a.data.slots)return!1;var c=!0;return p.eachDateInRange(b.start,b.end,function(b){var d=o.dateLocal(b,!0);return a.data.slots[d]?void 0:(c=!1,!1)}),c}function g(a,b){var c=m(p.addDays(b.start,7),p.addDays(b.end,7));if(!f(a,c)){var d=l(c);a.fetchData(d,null,!0)}}function h(a,b,c){var d=a.start,e=a.end,f=b.find("."+c.classes.days+" th"),g=o.dateLocal(new Date),h=1;p.eachDateInRange(d,e,function(a,b){var d=n(f.get(h+b)),e=o.dateLocal(a),i=e;i=g==e?c.texts.today:c.texts.abbrWeekDays[a.getDay()]+" "+q(a,c.texts.abbrDateFormat),d.text(i)})}function i(a,b,c){c=o.parse(c);var d=Math.round(c.getHours()),e=Math.round(c.getMinutes()/15),f=a.children(":eq("+Math.round(4*d+e)+")"),g=0===e?b+1:b;return f.children(":eq("+g+")")}function j(a,b){var c=b.siblings("td").andSelf().index(b),d=b.closest("tr").index(),e=15*d,f=Math.floor(e/60),g=e-60*f,h=new Date;return h.setHours(f,g,0,0),{day:c,slot:h}}function k(a,b,c){var d=p.isInCurrentWeek(b);a.toggleClass(c.classes.currentWeek,d),a.find("."+c.classes.prevAction).prop("disabled",d)}function l(a,b){return a.end&&(b=a.end,a=a.start),{start:o.dateLocal(a,!0),end:o.dateLocal(b,!0)}}function m(a,b){return{start:a,end:b}}var n=a("jquery"),o=a("LC/dateISO8601"),p=a("./dateUtils"),q=a("./formatDate");c.formatDate=q,c.date=p;c.statusTypes=["unavailable","available"],c.systemWeekDays=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],c.weeklyClasses={calendar:"AvailabilityCalendar",weeklyCalendar:"AvailabilityCalendar--weekly",currentWeek:"is-currentWeek",actions:"AvailabilityCalendar-actions",prevAction:"Actions-prev",nextAction:"Actions-next",days:"AvailabilityCalendar-days",slots:"AvailabilityCalendar-slots",slotHour:"AvailabilityCalendar-hour",slotStatusPrefix:"is-",legend:"AvailabilityCalendar-legend",legendAvailable:"AvailabilityCalendar-legend-available",legendUnavailable:"AvailabilityCalendar-legend-unavailable",status:"AvailabilityCalendar-status",errorMessage:"AvailabilityCalendar-errorMessage"},c.weeklyTexts={abbrWeekDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",abbrDateFormat:"M/D"};c.handlerCalendarError=d,c.moveBindRangeInDays=e,c.weeklyIsDataInCache=f;var r=f;c.monthlyIsDataInCache=r,c.weeklyCheckAndPrefetch=g,c.updateLabels=h,c.findCellBySlot=i,c.findSlotByCell=j,c.checkCurrentWeek=k,c.datesToQuery=l,c.datesToRange=m},{"./dateUtils":41,"./formatDate":42,"LC/dateISO8601":"rgrJsD"}],"LC/batchEventHandler":[function(a,b){b.exports=a("hXLJ4a")},{}],hXLJ4a:[function(a,b){b.exports=function(a,b){var c;return function(){clearTimeout(c),c=setTimeout(function(){a.apply(null,arguments)},b||1)}}},{}],50:[function(a,b){var c={message:'<img width="48px" height="48px" class="loading-indicator" src="'+LcUrl.AppPath+'img/theme/loading.gif"/>'},d=function(a,b,c){return{css:$.extend({cursor:"default"},c||{}),message:'<a class="close-popup" href="#close-popup">X</a><div class="info">There was an error'+(a?": "+a:"")+(b?' <a href="javascript: '+b+';">Click to reload</a>':"")+"</div>"}},e=function(a,b){return $.extend({message:'<a class="close-popup" href="#close-popup">X</a><div class="info">'+a+"</div>",overlayCSS:{cursor:"default"}},b)};"undefined"!=typeof b&&b.exports&&(b.exports={loading:c,error:d,info:e})},{}],"LC/changesNotification":[function(a,b){b.exports=a("bQChrF")},{}],bQChrF:[function(a,b){var c=a("jquery"),d=a("./getXPath"),e=a("./jqueryUtils").escapeJQuerySelectorValue,f={changesList:{},defaults:{target:null,genericChangeSupport:!0,genericSubmitSupport:!1,changedFormClass:"has-changes",changedElementClass:"changed",notifyClass:"notify-changes"},init:function(a){c(window).on("beforeunload",function(){return f.notify()}),a=c.extend(this.defaults,a),a.target||(a.target=document),a.genericChangeSupport&&c(a.target).on("change","form:not(.changes-notification-disabled) :input[name]",function(){f.registerChange(c(this).closest("form").get(0),this)}),a.genericSubmitSupport&&c(a.target).on("submit","form:not(.changes-notification-disabled)",function(){f.registerSave(this)})},notify:function(){c("html").addClass(this.defaults.notifyClass);for(var a in this.changesList)return this.quitMessage||(this.quitMessage=c("#lcres-quit-without-save").text())||""},registerChange:function(a,b){if(b){var e=d(a),f=this.changesList[e]=this.changesList[e]||[];if(c.isArray(b))for(var g=0;g<b.length;g++)this.registerChange(a,b[g]);else{var h=b;if("string"!=typeof b){if(h=b.name,"undefined"!=typeof b.defaultValue&&"undefined"==typeof b.checked&&"undefined"==typeof b.selected&&b.value==b.defaultValue)return void this.registerSave(a,[h]);c(b).addClass(this.defaults.changedElementClass)}h in f||f.push(h),c(a).addClass(this.defaults.changedFormClass).trigger("lcChangesNotificationChangeRegistered",[a,h,b])}}},registerSave:function(a,b){var f=d(a);if(this.changesList[f]){var g=c.extend([],this.changesList[f]);b&&(b=c.map(b,function(a){return"string"==typeof a?a:a.name}));var h=!0;b&&(this.changesList[f]=c.grep(this.changesList[f],function(a){return-1==c.inArray(a,b)}),h=0===this.changesList[f].length),h&&(c(a).removeClass(this.defaults.changedFormClass),delete this.changesList[f]),c(a).trigger("lcChangesNotificationSaveRegistered",[a,b||g,h]);var i=this;return b&&c.each(b,function(){c('[name="'+e(this)+'"]').removeClass(i.defaults.changedElementClass)}),g}}};"undefined"!=typeof b&&b.exports&&(b.exports=f)},{"./getXPath":61,"./jqueryUtils":"iWea/N"}],53:[function(a,b){function c(a,b){a.contentWindow.contents=b,a.src='javascript:window["contents"]'}var d=a("jquery");b.exports=function(a,b){var e=d('<iframe width="'+b.width+'" height="'+b.height+'" style="border:none;"></iframe>'),f=e.get(0),g=!1;return f.onload=function(){g||(g=!0,c(f,a))},e}},{}],54:[function(a,b,c){function d(a,b,c){var d=a.settings.data[c],e=b.data(d.name)||d["default"];return e}var e=a("jquery"),f=a("./smoothBoxBlock"),g=a("./changesNotification");a("./jquery.xtsh").plugIn(e);var h=a("./getText"),i=a("./moveFocusTo");c.defaultSettings={effects:{"show-viewer":{effect:"height",duration:"slow"},"hide-viewer":{effect:"height",duration:"slow"},"show-editor":{effect:"height",duration:"slow"},"hide-editor":{effect:"height",duration:"slow"}},events:{"edit-ends":"crudl-edit-ends","edit-starts":"crudl-edit-starts","editor-ready":"crudl-editor-ready","editor-showed":"crudl-editor-showed","editor-hidden":"crudl-editor-hidden",create:"crudl-create",update:"crudl-update","delete":"crudl-delete"},data:{"focus-closest":{name:"crudl-focus-closest","default":"*"},"focus-margin":{name:"crudl-focus-margin","default":0},"focus-duration":{name:"crudl-focus-duration","default":200}}},c.setup=function(a,b,j){return{on:function(k,l){k=k||".crudl";var m={selector:k,elements:e(k)};return m.settings=e.extend(!0,c.defaultSettings,l),m.elements.each(function(){function c(a){var b=a.data("crudl-extra-query")||"";return b&&(b="&"+b),a.parentsUntil(l.parent(),"[data-crudl-extra-query]").each(function(){var a=e(this).data("crudl-extra-query");a&&(b+="&"+a)}),b}function k(){function a(a){return function(){o.is(":visible")||o.xshow(m.settings.effects["show-viewer"]),g.registerSave(p.find("form").get(0)),p.children().remove(),o.queue(function(){var a=d(m,l,"focus-closest"),b=l.closest(a);0===b.length&&(b=l);var c=d(m,l,"focus-margin"),e=d(m,l,"focus-duration");i(b,{marginTop:c,duration:e}),o.dequeue()}),"function"==typeof a&&a.apply(this,Array.prototype.slice.call(arguments,0))}}g.registerSave(p.find("form").get(0)),l.trigger(m.settings.events["edit-ends"]);var b=e.extend(!0,{},m.settings.effects["hide-editor"]);return b.complete=a(b.complete),p.xhide(b).queue(function(){l.trigger(m.settings.events["editor-hidden"],[p]),p.dequeue()}),!1}var l=e(this);if(l.data("__crudl_initialized__")!==!0){var n=l.data("crudl-context")||"",o=l.find(".crudl-viewer"),p=l.find(".crudl-editor"),q=l.data("crudl-item-id-parameter")||"ItemID",r={action:"create"};r[q]=0;var s=!0;l.find(".crudl-create").click(function(){r[q]=0,r.action="create";var a=c(e(this));return s=!0,p.reload({url:function(b,c){return c+"?"+e.param(r)+a},success:function(){p.xshow(m.settings.effects["show-editor"]).queue(function(){l.trigger(m.settings.events["editor-showed"],[p]),p.dequeue()})}}),o.xhide(m.settings.effects["hide-viewer"]),l.trigger(m.settings.events["edit-starts"]).trigger(m.settings.events.create),!1}),o.on("click",".crudl-update",function(){var a=e(this),b=a.closest(".crudl-item"),d=b.data("crudl-item-id");r[q]=d,r.action="update";var f=c(e(this));return s=!0,p.reload({url:function(a,b){return b+"?"+e.param(r)+f},success:function(){p.xshow(m.settings.effects["show-editor"]).queue(function(){l.trigger(m.settings.events["editor-showed"],[p]),p.dequeue()})}}),o.xhide(m.settings.effects["hide-viewer"]),l.trigger(m.settings.events["edit-starts"]).trigger(m.settings.events.update),!1}).on("click",".crudl-delete",function(){var d=e(this),g=d.closest(".crudl-item"),i=g.data("crudl-item-id");if(confirm(h("confirm-delete-crudl-item-message:"+n))){f.open("<div>"+h("delete-crudl-item-loading-message:"+n)+"</div>",g),r[q]=i,r.action="delete";var k=c(e(this));e.ajax({url:p.attr("data-source-url")+"?"+e.param(r)+k,success:function(b,c,d){b&&0===b.Code?f.open("<div>"+b.Result+"</div>",g,null,{closable:!0,closeOptions:{complete:function(){g.fadeOut("slow",function(){g.remove()})}}}):a(b,c,d)},error:function(a,c,d){b(a,c,d),f.close(g)},complete:j})}return l.trigger(m.settings.events["delete"]),!1}),p.on("click",".crudl-cancel",k).on("ajaxSuccessPostMessageClosed",".ajax-box",k).on("reloadList","*",function(){o.find(".crudl-list").reload({autofocus:!1})}).on("ajaxSuccessPost","form, fieldset",function(a,b){(0===b.Code||5==b.Code||6==b.Code)&&o.find(".crudl-list").reload({autofocus:!1}),5==b.Code&&setTimeout(k,1e3)}).on("ajaxFormReturnedHtml","form,fieldset",function(){l.trigger(m.settings.events["editor-ready"],[p,s]),s=!1}),l.data("__crudl_initialized__",!0)}}),m}}}},{"./changesNotification":"bQChrF","./getText":"B9HwAX","./jquery.xtsh":74,"./moveFocusTo":"lyuNFv","./smoothBoxBlock":"TinZqq"}],"LC/dateISO8601":[function(a,b){b.exports=a("rgrJsD")},{}],rgrJsD:[function(a,b,c){c.dateUTC=function(a,b){var c=(a.getUTCMonth()+1).toString(),d=a.getUTCDate().toString(),e=a.getUTCFullYear().toString();return 1==c.length&&(c="0"+c),1==d.length&&(d="0"+d),b?e+"-"+c+"-"+d:e+c+d},c.dateLocal=function(a,b){var c=(a.getMonth()+1).toString(),d=a.getDate().toString(),e=a.getFullYear().toString();return 1==c.length&&(c="0"+c),1==d.length&&(d="0"+d),b?e+"-"+c+"-"+d:e+c+d},c.timeLocal=function(a,b){var d=a.getSeconds().toString(),e=c.shortTimeLocal(a,b);return 1==d.length&&(d="0"+d),b?e+":"+d:e+d},c.timeUTC=function(a,b){var d=a.getUTCSeconds().toString(),e=c.shortTimeUTC(a,b);
return 1==d.length&&(d="0"+d),b?e+":"+d:e+d},c.shortTimeLocal=function(a,b){var c=a.getHours().toString(),d=a.getMinutes().toString();return 1==c.length&&(c="0"+c),1==d.length&&(d="0"+d),b?c+":"+d:c+d},c.shortTimeUTC=function(a,b){var c=a.getUTCHours().toString(),d=a.getUTCMinutes().toString();return 1==c.length&&(c="0"+c),1==d.length&&(d="0"+d),b?c+":"+d:c+d},c.longTimeLocal=function(){},c.datetimeLocal=function(a,b,d){var e=c.dateLocal(a,b),f=c.timeLocal(a,b);return d?e+f:e+"T"+f},c.datetimeUTC=function(a,b,d){var e=c.dateUTC(a,b),f=c.timeUTC(a,b);return d?e+f:e+"T"+f},c.parse=function(a){var b=a.split("T"),c=b[0],d=2==b.length?b[1]:null;if(b.length>2)throw new Error("Bad input format");/:|^\d{4,6}[^\-](\.\d*)?(?:Z|[+\-].*)?$/.test(c)&&(d=c,c=null);var e,f,g,h,i,j,k,l;if(c){var m=/(\d{4})\-?(\d{2})\-?(\d{2})/.exec(c);if(!m)throw new Error("Bad input date format");e=m[1],f=m[2],g=m[3]}if(d){var n=/(\d{2}):?(\d{2})(?::?(\d{2}))?(Z|[+\-].*)?/.exec(d);if(!n)throw new Error("Bad input time format");h=n[1],i=n[2],j=n.length>3?n[3]:null,k=n.length>4?n[4]:null,l=/^Z$/i.test(k)}var o=new Date;return c&&(l?o.setUTCFullYear(e,f,g):o.setFullYear(e,f,g)),d?l?o.setUTCHours(h,i,j):o.setHours(h,i,j):o.setHours(0,0,0),o}},{}],57:[function(a,b){function c(){e.datepicker.setDefaults(e.datepicker.regional[e("html").attr("lang")]),e(".date-pick",document).datepicker({showAnim:"blind"}),d()}function d(a){e(".date-pick",a||document).datepicker({showAnim:"blind"})}var e=a("jquery");a("jquery-ui"),"undefined"!=typeof b&&b.exports&&(b.exports={init:c,apply:d})},{}],58:[function(a,b){b.exports=function(a){var b=(a.getUTCMonth()+1).toString(),c=a.getUTCDate().toString();return 1==b.length&&(b="0"+b),1==c.length&&(c="0"+c),a.getUTCFullYear().toString()+"-"+b+"-"+c}},{}],"LC/getText":[function(a,b){b.exports=a("B9HwAX")},{}],B9HwAX:[function(a,b){function c(){var a=arguments,b=a[0],c=d("#lcres-"+e(b)).text();c&&(b=c);for(var f=0;f<a.length;f++){var g=new RegExp("\\{"+f+"\\}","gi");b=b.replace(g,a[f+1])}return b}var d=a("jquery"),e=a("./jqueryUtils").escapeJQuerySelectorValue;"undefined"!=typeof b&&b.exports&&(b.exports=c)},{"./jqueryUtils":"iWea/N"}],61:[function(a,b){function c(a){if(a&&a.id)return'//*[@id="'+a.id+'"]';for(var b="";a&&1==a.nodeType;a=a.parentNode){var c=d(a.parentNode).children(a.tagName).index(a)+1;c=c>1?"["+c+"]":"",b="/"+a.tagName.toLowerCase()+c+b}return b}var d=a("jquery");"undefined"!=typeof b&&b.exports&&(b.exports=c)},{}],"LC/googleMapReady":[function(a,b){b.exports=a("TPQyHE")},{}],TPQyHE:[function(a,b){var c=a("./loader"),d=[],e=b.exports=function f(a){d.push(a),f.isReady?a():f.isLoading||(f.isLoading=!0,c.load({scripts:["https://www.google.com/jsapi"],completeVerification:function(){return!!window.google},complete:function(){google.load("maps","3.16",{other_params:"sensor=false",callback:function(){f.isReady=!0,f.isLoading=!1;for(var a=0;a<d.length;a++)try{d[a]()}catch(b){}}})}}))};e.refreshMap=function(a){e(function(){var b=a.getCenter();google.maps.event.addListenerOnce(a,"resize",function(){b&&a.setCenter(b)}),google.maps.event.trigger(a,"resize")})}},{"./loader":77}],64:[function(a,b){b.exports=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}},{}],65:[function(a,b,c){function d(){var a=e(this),b=a.closest("fieldset");a.is(":checked")&&("yes"==a.val()||"True"==a.val()?b.removeClass("confirmed-no").addClass("confirmed-yes"):b.removeClass("confirmed-yes").addClass("confirmed-no"))}var e=a("jquery"),f="fieldset.has-confirm > .confirm input";c.on=function(a){a=a||f,e(document).on("change",a,d),e(a).change()},c.off=function(a){a=a||f,e(document).off("change",a)}},{}],66:[function(a,b){var c={};c.distanceUnits={ES:"km",US:"miles"},c.numericMilesSeparator={"es-ES":".","es-US":".","en-US":",","en-ES":","},c.numericDecimalSeparator={"es-ES":",","es-US":",","en-US":".","en-ES":"."},c.moneySymbolPrefix={ES:"",US:"$"},c.moneySymbolSufix={ES:"",US:""},c.getCurrentCulture=function(){var a=document.documentElement.getAttribute("data-culture"),b=a.split("-");return{culture:a,language:b[0],country:b[1]}},c.convertMilesKm=function(a,b){var c=1.609;return"miles"==b?c*a:"km"==b?a/c:(console&&console.log&&console.log("convertMilesKm: Unrecognized unit "+b),0)},"undefined"!=typeof b&&b.exports&&(b.exports=c)},{}],67:[function(a,b){b.exports=function(a){return!/\S/g.test(a||"")}},{}],68:[function(a){var b=jQuery||a("jquery");b.fn.are=function(a,c){c=c||"all";var d=0;switch(this.each(function(){b(this).is(a)&&d++}),c){case"all":return this.length==d;case"almost-one":return d>0;case"percentage":return d/this.length;case"summary":return{yes:d,no:this.length-d,percentage:d/this.length,total:this.length};default:return"just"in c&&c.just!=d?!1:"almost"in c&&c.almost>d?!1:"until"in c&&c.until<d?!1:!0}}},{}],69:[function(){!function(){jQuery.fn.bounds=function(a){a=$.extend(!0,{},{includeBorder:!1,includeMargin:!1},a);var b={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:Number.NaN,height:Number.NaN},c=a.includeBorder||a.includeMargin?function(b){return $.fn.outerWidth.call(b,a.includeMargin)}:function(a){return $.fn.width.call(a)},d=a.includeBorder||a.includeMargin?function(b){return $.fn.outerHeight.call(b,a.includeMargin)}:function(a){return $.fn.height.call(a)};return this.each(function(a,e){var f=$(e),g=f.offset();g.right=g.left+c($(f)),g.bottom=g.top+d($(f)),g.left<b.left&&(b.left=g.left),g.top<b.top&&(b.top=g.top),g.right>b.right&&(b.right=g.right),g.bottom>b.bottom&&(b.bottom=g.bottom)}),b.width=b.right-b.left,b.height=b.bottom-b.top,b}}()},{}],70:[function(a){var b=jQuery||a("jquery");b.fn.hasScrollBar=function(a){if(a=b.extend({x:0,y:0},a),!this||0===this.length)return{vertical:!1,horizontal:!1};var c=this.get(0);return{vertical:this.outerHeight(!1)<c.scrollHeight+a.y,horizontal:this.outerWidth(!1)<c.scrollWidth+a.x}}},{}],71:[function(a){var b=jQuery||a("jquery");b.fn.isChildOf=function(a){return this.parents().filter(a).length>0}},{}],72:[function(a){var b=jQuery||a("jquery");b.fn.outerHtml=function(){if(!this||0===this.length)return"";var a=this.get(0),b="";return a.outerHTML?b=a.outerHTML:(b=this.wrapAll("<div></div>").parent().html(),this.unwrap()),b}},{}],73:[function(a,b){function c(a,b){b=e.isPlainObject(b)&&b?b:this;var c=new jQuery;if(a=e.trim(a))try{c=e("function"==typeof e.parseHTML?e.parseHTML(a):a)}catch(d){return void(console&&console.error&&console.error(d))}var f=b.element;return"replace-me"==b.options.mode?f.replaceWith(c):f.html(c),b}function d(){clearTimeout(this.loadingTimer),f.close(this.element)}var e=jQuery||a("jquery"),f=a("./smoothBoxBlock"),g={url:null,success:[c],error:[],complete:[d],autofocus:!0,mode:"replace-content",loading:{lockElement:!0,lockOptions:{},message:null,showLoadingIndicator:!0,delay:0}},h=e.fn.reload=function(){var a=e.extend(!0,{},g,h.defaults);return 1==arguments.length&&e.isPlainObject(arguments[0])?e.extend(!0,a,arguments[0]):(a.url=arguments.length>0?arguments[0]:null,a.complete=arguments.length>1?arguments[1]:null),this.each(function(){var b=e(this);a.url&&(e.isFunction(a.url)?b.data("source-url",e.proxy(a.url,this)(b.data("source-url"),b.attr("data-source-url"))):b.data("source-url",a.url));var c=b.data("source-url"),d=b.data("isReloading");if(d){if(d.url==c)return;d.abort()}if(a.mode=b.data("reload-mode")||a.mode,c){var g=a.loading.lockElement?setTimeout(function(){var c=e("<div/>").append(a.loading.message?e('<div class="loading-message"/>').append(a.loading.message):null).append(a.loading.showLoadingIndicator?a.loading.message:null);c.css({position:"absolute",left:-99999}).appendTo("body");var d=c.width();c.detach(),a.loading.lockOptions.autofocus=a.autofocus,a.loading.lockOptions.width=d,f.open(c.html(),b,a.loading.message?"custom-loading":"loading",a.loading.lockOptions)},a.loading.delay):null,i={element:b,options:a,loadingTimer:g};d=e.ajax({url:c,type:"GET",context:i}),d.url=c,b.data("isReloading",d),d.always(function(){b.data("isReloading",null)}),d.done(h.defaults.success),a.success!=h.defaults.success&&d.done(a.success),d.fail(h.defaults.error),a.error!=h.defaults.error&&d.fail(a.error),d.always(h.defaults.complete),a.complete!=h.defaults.complete&&d.done(a.complete)}}),this};h.defaults=e.extend(!0,{},g),h.updateElement=c,h.stopLoadingSpinner=d,b.exports=h},{"./smoothBoxBlock":"TinZqq"}],74:[function(a,b){!function(){function c(a){function b(a,b){var c=f(a);switch(b.effect){case"animate":c.animate(b.properties,b);break;case"fade":c.fadeOut(b);break;case"height":c.slideUp(b);break;default:c.hide(b)}c.trigger("xhide",[b])}function c(a,b){var c=f(a);switch(b.effect){case"animate":c.animate(b.properties,b);break;case"fade":c.css("display","none").fadeIn(b);break;case"height":c.css("display","none").slideDown(b);break;default:c.css("display","none").show(b)}c.trigger("xshow",[b])}function d(a,e,g){e!==!0&&e!==!1&&(f.isPlainObject(e)&&(g=e),f(a).each(function(){d(this,!f(this).is(":visible"),g)})),e?c(a,g):b(a,g)}function e(a){a.fn.xtoggle=function(a,b){return d(this,a,b),this},a.fn.xshow=function(a){return c(this,a),this},a.fn.xhide=function(a){return b(this,a),this}}var f=a;return{toggleElement:d,showElement:c,hideElement:b,plugIn:e}}if("function"==typeof define&&define.amd)define(["jquery"],c);else if("undefined"!=typeof b&&b.exports){var d=a("jquery");b.exports=c(d)}else"undefined"!=typeof window.jQuery&&c(window.jQuery).plugIn(window.jQuery)}()},{}],"LC/jqueryUtils":[function(a,b){b.exports=a("iWea/N")},{}],"iWea/N":[function(a,b){function c(a){return a.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/])/g,"\\$1")}"undefined"!=typeof b&&b.exports&&(b.exports={escapeJQuerySelectorValue:c})},{}],77:[function(a,b,c){var d=a("modernizr");c.load=function(a){function b(){"function"!=typeof a.completeVerification||a.completeVerification()?a.complete():(setTimeout(b,a.trialsInterval),console&&console.warn&&console.warn("LC.load.completeVerification failed for "+a.scripts[0]+" retrying it in "+a.trialsInterval+"ms"))}function c(){d.load({load:a.scripts,complete:a.complete?b:null})}a=$.extend(!0,{scripts:[],complete:null,completeVerification:null,loadDelay:0,trialsInterval:500},a),a.scripts.length&&(a.loadDelay?setTimeout(c,a.loadDelay):c())}},{}],78:[function(a,b){function c(a,b,c){var h=d;switch(c){case g.Down:h=f;break;case g.Up:h=e}return h(a,b)}function d(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c}function e(a,b){var c=Math.pow(10,b);return Math.ceil(a*c)/c}function f(a,b){var c=Math.pow(10,b);return Math.floor(a*c)/c}var g={Down:-1,Nearest:0,Up:1};"undefined"!=typeof b&&b.exports&&(b.exports={roundingTypeEnum:g,roundTo:c,nearestTo:d,ceilTo:e,floorTo:f})},{}],"LC/moveFocusTo":[function(a,b){b.exports=a("lyuNFv")},{}],lyuNFv:[function(a,b){function c(a,b){b=$.extend({marginTop:30,duration:500},b),$("html,body").stop(!0,!0).animate({scrollTop:$(a).offset().top-b.marginTop},b.duration,null)}"undefined"!=typeof b&&b.exports&&(b.exports=c)},{}],81:[function(a,b){function c(a,b){return b=b||0,a instanceof g&&(a=a.val()||a.text()),a=parseFloat(a.replace(/[$]/g,"").replace(new RegExp(LC.numericMilesSeparator[h.getCurrentCulture().culture],"g"),"")),isNaN(a)?b:a}function d(a){var b=h.getCurrentCulture().culture;a=i.roundTo(a,2);var c=Math.round(100*a%100);return""+Math.floor(a)+h.numericDecimalSeparator[b]+Math.floor(c/10)+c%10}function e(a){var b=h.getCurrentCulture().country;return h.moneySymbolPrefix[b]+d(a)+h.moneySymbolSufix[b]}function f(a,b){return a=e(a),b instanceof g&&(b.is(":input")?b.val(a):b.text(a)),a}var g=a("jquery"),h=a("./i18n"),i=a("./mathUtils");"undefined"!=typeof b&&b.exports&&(b.exports={getMoneyNumber:c,numberToTwoDecimalsString:d,numberToMoneyString:e,setMoneyNumber:f})},{"./i18n":66,"./mathUtils":78}],82:[function(a,b,c){var d=a("modernizr"),e=a("jquery");c.init=function(){d.input.placeholder?e.fn.placeholder=function(){}:function(){function a(){var a=e(this);a.data("placeholder-supported")||(a.on("focusin",function(){this.value==this.getAttribute("placeholder")&&(this.value="")}),a.on("focusout",function(){this.value.length||(this.value=this.getAttribute("placeholder"))}),a.data("placeholder-supported",!0)),this.value.length||(this.value=this.getAttribute("placeholder"))}e.fn.placeholder=function(){return this.each(a)},e("[placeholder]").placeholder(),e(document).ajaxComplete(function(){e("[placeholder]").placeholder()})}()}},{}],83:[function(a,b){function c(a){var b="large"==a?.8:"medium"==a?.5:"small"==a?.2:a||.5;return{width:Math.round(h(window).width()*b),height:Math.round(h(window).height()*b),sizeFactor:b}}function d(a){return{cursor:"default",width:a.width+"px",left:Math.round((h(window).width()-a.width)/2)-25+"px",height:a.height+"px",top:Math.round((h(window).height()-a.height)/2)-32+"px",padding:"34px 25px 30px",overflow:"auto",border:"none","-moz-background-clip":"padding","-webkit-background-clip":"padding-box","background-clip":"padding-box"}}function e(a,b,f,g,k){"object"==typeof a&&(k=a),k=h.extend(!0,{url:"string"==typeof a?a:"",size:b||{width:0,height:0},complete:f,loadingText:g,closable:{onLoad:!1,afterLoad:!0,onError:!0},autoSize:!1,containerClass:"",autoFocus:!0},k),k.loadingText=k.loadingText||"","undefined"==typeof k.size.width&&(k.size=c(k.size)),h.blockUI({message:(k.closable.onLoad?'<a class="close-popup" href="#close-popup">X</a>':"")+'<img src="'+LcUrl.AppPath+'img/theme/loading.gif"/>'+k.loadingText,centerY:!1,css:d(k.size),overlayCSS:{cursor:"default"},focusInput:!0}),h.ajax({url:k.url,context:{options:k,container:h(".blockMsg")},success:function(a){var b=this.container.addClass(k.containerClass);b.html(k.closable.afterLoad?'<a class="close-popup" href="#close-popup">X</a>':"");var c=b.append('<div class="content"/>').children(".content");if("object"==typeof a)a.Code&&2==a.Code?(h.unblockUI(),e(a.Result,{width:410,height:320})):c.append(a.Result);else if(/((^\$)|(\/\$))/.test(k.url)){if(c.append(a),k.autoFocus&&j(c),k.autoSize){var d=c[0].style.width;c.css("width","auto");var f=c[0].style.height;c.css("height","auto");var g=c[0].scrollWidth,l=c[0].scrollHeight,m=b.width(),n=b.height(),o=b.outerWidth(!0)-m,p=b.outerHeight(!0)-n,q=h(window).width()-o,r=h(window).height()-p,s={width:g>q?q:g,height:l>r?r:l};b.animate(s,300),c.css("width",d),c.css("height",f)}}else{var t=i(a,this.options.size);t.attr("id","blockUIIframe"),c.remove(),h(".blockMsg").append(t),k.autoFocus&&j(t)}},error:function(a,b,c){h("div.blockMsg").html((k.closable.onError?'<a class="close-popup" href="#close-popup">X</a>':"")+'<div class="content">Page not found</div>'),console&&console.info&&console.info("Popup-ajax error: "+c)},complete:k.complete});var l=h(".blockUI");return l.on("click",".close-popup",function(){return h.unblockUI(),l.trigger("popup-closed"),!1}),l.closePopup=function(){h.unblockUI()},l.getBlockElement=function(){return l.filter(".blockMsg")},l.getContentElement=function(){return l.find(".content")},l.getOverlayElement=function(){return l.filter(".blockOverlay")},l}function f(a,b){b=h(b||"body");var c=h("<div/>").text(a);smoothBoxBlock.open(c,b,"message-popup full-block",{closable:!0,center:!0,autofocus:!1})}function g(a){a=a||".popup-action",h(document).on("click",a,function(){var a=h(h(this).attr("href")).clone();return 1==a.length&&smoothBoxBlock.open(a,document,null,{closable:!0,center:!0}),!1})}var h=a("jquery"),i=a("./createIframe"),j=a("./moveFocusTo");a("jquery.blockUI"),a("./smoothBoxBlock"),e.size=c,e.style=d,e.connectAction=g,e.message=f,"undefined"!=typeof b&&b.exports&&(b.exports=e)},{"./createIframe":53,"./moveFocusTo":"lyuNFv","./smoothBoxBlock":"TinZqq"}],84:[function(a,b,c){var d=a("jquery");c.init=function(a){a=d.extend({baseUrl:"/",selector:"[data-val-postalcode]",url:"JSON/ValidatePostalCode/"},a),d(document).on("change",a.selector,function(){var b=d(this),c=b.val(),e=b.data("val-postalcode");c&&e&&d.ajax({url:a.baseUrl+a.url,data:{PostalCode:c},cache:!0,dataType:"JSON",success:function(a){if(a&&0===a.Code)if(a.Result.IsValid)b.removeClass("input-validation-error").addClass("valid"),b.siblings(".field-validation-error").removeClass("field-validation-error").addClass("field-validation-valid").text("").children().remove(),b.closest("form").find(".validation-summary-errors").removeClass("validation-summary-errors").addClass("validation-summary-valid").find("> ul > li").each(function(){d(this).text()==e&&d(this).remove()}),b.closest("form").find("[data-valmsg-for="+b.attr("name")+"]").text("");else{b.addClass("input-validation-error").removeClass("valid"),b.siblings(".field-validation-valid").addClass("field-validation-error").removeClass("field-validation-valid").append('<span for="'+b.attr("name")+'" generated="true">'+e+"</span>"),b.closest("form").find(".validation-summary-valid").addClass("validation-summary-errors").removeClass("validation-summary-valid").children("ul").append("<li>"+e+"</li>"),b.closest("form").find("[data-valmsg-for="+b.attr("name")+"]").text(e);var c=b.closest("label");!c.length&&b.attr("id")&&(c=b.closest("form").find("label[for="+b.attr("id")+"]")),c.is(":visible")||b.val("")}}})})}},{}],85:[function(a,b){var c=a("jquery");a("jquery.blockUI"),b.exports=function(a){c.blockUI({message:""});var b=!1;c(window).on("beforeunload",function(){b=!0}),window.location=a,setTimeout(function(){b||window.location.reload()},50)}},{}],86:[function(a,b){function c(a){return a=(a||"").replace(/\s+/g," "),$.trim(a)}"undefined"!=typeof b&&b.exports&&(b.exports=c)},{}],TinZqq:[function(a,b){function c(a,b,d,i){i=e.extend(!0,{closable:!1,center:!1,closeOptions:{duration:600,effect:"fade"},autofocus:!0,autofocusOptions:{marginTop:60},width:"auto"},i),a=e(a);var j=!1;b==document||b==window?(b=e("body"),j=!0):b=e(b);var k=!b.is("body,tr,thead,tbody,tfoot,table,ul,ol,dl"),l=b.data("smooth-box-block-id");l||(l=(a.attr("id")||"")+(b.attr("id")||"")+"-smoothBoxBlock"),"-smoothBoxBlock"==l&&(l="id-"+guidGenerator()+"-smoothBoxBlock"),b.data("smooth-box-block-id",l);var m=e("#"+f(l));if(0===a.length){m.xhide(i.closeOptions);var n=b.data("sbb-previous-css-position");return b.css("position",n||""),void b.data("sbb-previous-css-position",null)}var o;if(0===m.length?(o=e('<div class="smooth-box-block-element"/>'),m=e('<div class="smooth-box-block-overlay"></div>'),m.addClass(d),j&&m.addClass("full-block"),m.append(o),m.attr("id",l),k?b.append(m):e("body").append(m)):o=m.children(".smooth-box-block-element"),a.show(),m.show().css("opacity",0),o.children().remove(),i.closable&&o.append(e('<a class="close-popup close-action" href="#close-popup">X</a>')),m.data("modal-box-options",i),o.data("_close-action-added")||o.on("click",".close-action",function(a){a.preventDefault(),c(null,b,null,m.data("modal-box-options"))}).data("_close-action-added",!0),o.append(a),o.width(i.width),m.css("position","absolute"),k?(m.css("z-index",b.css("z-index")+10),b.css("position")&&"static"!=b.css("position")||(b.data("sbb-previous-css-position",b.css("position")),b.css("position","relative")),m.css("top",0),m.css("left",0)):(m.css("z-index",Math.floor(Number.MAX_VALUE)),m.css(b.offset())),m.width(b.outerWidth()),m.height(b.outerHeight()),i.center){o.css("position","absolute");var p,q;j?(q=screen.height/2,p=screen.width/2):(q=m.outerHeight(!0)/2,p=m.outerWidth(!0)/2),(i.center===!0||"vertical"===i.center)&&o.css("top",q-o.outerHeight(!0)/2),(i.center===!0||"horizontal"===i.center)&&o.css("left",p-o.outerWidth(!0)/2)}return g(m),m.animate({opacity:1},300),i.autofocus&&h(a,i.autofocusOptions),m}function d(a){e(a||document).find(".smooth-box-block-overlay").hide()}var e=a("jquery"),f=a("./jqueryUtils").escapeJQuerySelectorValue,g=a("./autoFocus"),h=a("./moveFocusTo");a("./jquery.xtsh").plugIn(e),"undefined"!=typeof b&&b.exports&&(b.exports={open:c,close:function(a,b,d){c(null,a,b,d)},closeAll:d})},{"./autoFocus":34,"./jquery.xtsh":74,"./jqueryUtils":"iWea/N","./moveFocusTo":"lyuNFv"}],"LC/smoothBoxBlock":[function(a,b){b.exports=a("TinZqq")},{}],"3mmOyL":[function(a,b){function c(a,b){var c,d;if(b.pageX&&b.pageY)c=b.pageX,d=b.pageY;else if(b.target){var e=k(b.target);c=e.outerWidth()+e.offset().left,d=e.outerHeight()+e.offset().top}a.css("left",c+m.x),a.css("top",d+m.y);var f=a.outerWidth()-a.width();a.css("max-width",k(window).width()-c-m.x-f)}function d(a){if(0===a.length)return null;var b=a.data("tooltip-content"),c=a.data("persistent-tooltip");if(!b){var d=l(a.attr("title")),e=l(a.data("description"));b=e?"<h4>"+d+"</h4><p>"+e+"</p>":d;var f=k(a.data("tooltip-url"));b=(b||"")+f.outerHtml(),f.remove(),a.data("tooltip-content",b),a.attr("title","")}return c!==!0&&l(a.text())==b&&a.outerWidth()>=a[0].scrollWidth&&(b=null),b||a.removeClass("has-tooltip").removeClass("has-popup-tooltip"),b}function e(a){a=a||"tooltip";var b="singleton-"+a,c=document.getElementById(b);return c||(c=k('<div style="position:absolute" class="tooltip"></div>'),c.attr("id",b),c.hide(),k("body").append(c)),k(c)}function f(a){var b=k(this),f=b.hasClass("has-popup-tooltip"),g=e(f?"popup-tooltip":"tooltip");if(!f&&"click"==a.type)return!0;var h=d(b);if(h){if(f&&"click"!=a.type)return!0;g.queue(function(){if(g.html(h),f){g.addClass("popup-tooltip");var d=k('<a href="#close-popup" class="close-action">X</a>');g.append(d)}c(g,a,b),g.dequeue(),g.fadeIn()})}return!1}function g(a){return k(".tooltip:visible").each(function(){var b=k(this);b.hasClass("popup-tooltip")&&"click"!=a.type||!b.hasClass("popup-tooltip")&&"click"==a.type||b.stop(!0,!0).fadeOut()}),!1}function h(){k("body").on("mousemove focusin",n,f).on("mouseleave focusout",n,g).on("click","[title].has-popup-tooltip",f).on("click",".tooltip-button",function(){return!1}).on("click",function(a){var b=k(".popup-tooltip:visible").get(0);a.target==b||k(a.target).isChildOf(b)||g(a)}).on("click",".popup-tooltip .close-action",function(a){a.preventDefault(),g(a)}),i()}function i(a){k(a||n).each(function(){d(k(this))})}function j(a,b){var c=k.extend({},{title:"",description:null,url:null,is_popup:!1,persistent:!1},b);k(a).attr("title",c.title).data("description",c.description).data("persistent-tooltip",c.persistent).addClass(c.is_popup?"has-popup-tooltip":"has-tooltip"),i(a)}var k=a("jquery"),l=a("./sanitizeWhitespaces");a("./jquery.outerHtml"),a("./jquery.isChildOf");var m={x:16,y:8},n="[title][data-description], [title].has-tooltip, [title].secure-data, [data-tooltip-url], [title].has-popup-tooltip";"undefined"!=typeof b&&b.exports&&(b.exports={initTooltips:h,updateTooltips:i,createTooltip:j})},{"./jquery.isChildOf":71,"./jquery.outerHtml":72,"./sanitizeWhitespaces":86}],"LC/tooltips":[function(a,b){b.exports=a("3mmOyL")},{}],91:[function(a,b,c){c.getURLParameter=function(a){return decodeURI((RegExp(a+"=(.+?)(&|$)","i").exec(location.search)||[,null])[1])},c.getHashBangParameters=function(a){for(var b=a.split("_"),c={},d=0;d<b.length;d++){var e=b[d].split("-");c[e[0]]=2==e.length?e[1]:!0}return c}},{}],"LC/validationHelper":[function(a,b){b.exports=a("UpLaI0")},{}],UpLaI0:[function(a,b){function c(a){a=a||document,window.jqueryValidateUnobtrusiveLoaded||(window.jqueryValidateUnobtrusiveLoaded=!1),jqueryValidateUnobtrusiveLoaded?i&&i.validator&&i.validator.unobtrusive&&(i(a).removeData("validator"),i(a).removeData("unobtrusiveValidation"),i.validator.unobtrusive.parse(a)):(jqueryValidateUnobtrusiveLoaded=!0,j.load([{load:LcUrl.AppPath+"Scripts/jquery/jquery.validate.min.js"},{load:LcUrl.AppPath+"Scripts/jquery/jquery.validate.unobtrusive.min.js"}]))}function d(a){a=a||document,i(".validation-summary-errors",a).removeClass("validation-summary-errors").addClass("validation-summary-valid").find(">ul>li").remove(),i(".field-validation-error",a).removeClass("field-validation-error").addClass("field-validation-valid").text(""),LC.setupValidation()}function e(a){var b=h(a);b.addClass("validation-summary-errors").removeClass("validation-summary-valid")}function f(a,b){var c=h(a).find("ul"),d=!1;for(var f in b)(!b.hasOwnProperty||b.hasOwnProperty(f))&&(i("<li/>").text(b[f]).appendTo(c),d=!0);d&&e(a)}function g(a){var b=a.find(".validation-summary-errors").offset();b?i("html,body").stop(!0,!0).animate({scrollTop:b.top},500):console&&console.error&&console.error("goToSummaryErrors: no summary to focus")}function h(a){return a=a||document,i("[data-valmsg-summary=true]",a)}var i=a("jquery"),j=a("modernizr");b.exports={setup:c,setValidationSummaryAsValid:d,setValidationSummaryAsError:e,goToSummaryErrors:g,findValidationSummary:h,setErrors:f}},{}],94:[function(a,b,c){var d=a("jquery");a("jquery.blockUI"),c.enable=function(a){d(document).on("click","a.login",function(){var b=a+"Account/$Login/?ReturnUrl="+encodeURIComponent(window.location);return popup(b,{width:410,height:320}),!1}).on("click","a.forgot-password",function(){var a=this.getAttribute("href").replace("/Account/ForgotPassword","/Account/$ForgotPassword");return popup(a,{width:400,height:240}),!1}).on("click","a.change-password",function(){var a=this.getAttribute("href").replace("/Account/ChangePassword","/Account/$ChangePassword");return popup(a,{width:450,height:340}),!1})}},{}],95:[function(a){function b(){var a=c.isPlainObject(this)?this:{element:this};a.isReload=!0,d.onSuccess.apply(a,Array.prototype.slice.call(arguments))}window.LC=window.LC||{},window.gLoadingRetard=300,window.LcUrl=a("../LC/LcUrl");var c=window.$=window.jQuery=a("jquery");a("../LC/jquery.hasScrollBar"),a("jquery.ba-hashchange"),a("jquery.blockUI"),a("../LC/jquery.are"),a("jquery.formatter");var d=(a("../LC/ajaxCallbacks"),a("../LC/ajaxForms"));window.ajaxFormsSuccessHandler=d.onSuccess,window.ajaxErrorPopupHandler=d.onError,window.ajaxFormsCompleteHandler=d.onComplete,a("../LC/jquery.reload"),c.fn.reload.defaults={success:[b],error:[d.onError],delay:gLoadingRetard},LC.moveFocusTo=a("../LC/moveFocusTo");var e=a("../LC/loader");LC.load=e.load;var f=LC.blockPresets=a("../LC/blockPresets");window.loadingBlock=f.loading,window.infoBlock=f.info,window.errorBlock=f.error,Array.remove=a("../LC/Array.remove"),a("../LC/String.prototype.contains"),LC.getText=a("../LC/getText");var g=LC.timeSpan=a("../LC/TimeSpan"),h=a("../LC/TimeSpanExtra");h.plugIn(g),LC.smartTime=h.smartTime,LC.roundTimeToQuarterHour=h.roundToQuarterHour,LC.ChangesNotification=a("../LC/changesNotification"),window.TabbedUX=a("../LC/TabbedUX");var i=a("../LC/TabbedUX.sliderTabs");window.smoothBoxBlock=a("../LC/smoothBoxBlock");{var j=a("../LC/popup");j.style,j.size}LC.messagePopup=j.message,LC.connectPopupAction=j.connectAction,window.popup=j,LC.sanitizeWhitespaces=a("../LC/sanitizeWhitespaces"),LC.sanitizeWhitepaces=LC.sanitizeWhitespaces,LC.getXPath=a("../LC/getXPath");a("../LC/StringFormat");c.extend(LC,a("../LC/Price")),c.extend(LC,a("../LC/mathUtils")),c.extend(LC,a("../LC/numberUtils")),c.extend(LC,a("../LC/tooltips"));var k=LC.i18n=a("../LC/i18n");c.extend(LC,k),c.extend(window,k);var l=a("../LC/jquery.xtsh");l.plugIn(c),c.extend(LC,l),delete LC.plugIn;{var m=LC.autoCalculate=a("../LC/autoCalculate");m.onTableItems}LC.setupCalculateSummary=m.onSummary,LC.updateDetailedPricingSummary=m.updateDetailedPricingSummary,LC.setupUpdateDetailedPricingSummary=m.onDetailedPricingSummary;{var n=LC.Cookie=a("../LC/Cookie");n.get,n.set}LC.datePicker=a("../LC/datePicker"),window.setupDatePicker=LC.setupDatePicker=LC.datePicker.init,window.applyDatePicker=LC.applyDatePicker=LC.datePicker.apply,LC.autoFocus=a("../LC/autoFocus");var o=a("../LC/crudl");o.defaultSettings.data["focus-closest"]["default"]=".DashboardSection-page-section",o.defaultSettings.data["focus-margin"]["default"]=10;var p=o.setup(d.onSuccess,d.onError,d.onComplete);LC.initCrudl=p.on;var q=a("../LC/UISliderLabels");LC.createLabelsForUISlider=q.create,LC.updateLabelsForUISlider=q.update,LC.uiSliderLabelsLayouts=q.layouts;var r=a("../LC/validationHelper");LC.setupValidation=r.setup,LC.setValidationSummaryAsValid=r.setValidationSummaryAsValid,LC.goToSummaryErrors=r.goToSummaryErrors,LC.placeHolder=a("../LC/placeholder-polyfill").init,LC.mapReady=a("../LC/googleMapReady"),window.isEmptyString=a("../LC/isEmptyString"),window.guidGenerator=a("../LC/guidGenerator");var s=a("../LC/urlUtils");window.getURLParameter=s.getURLParameter,window.getHashBangParameters=s.getHashBangParameters;var t=a("../LC/dateToInterchangeableString");LC.dateToInterchangleString=t;var u=a("./welcomePopup"),v=a("./faqsPopups"),w=a("./accountPopups"),x=a("./legalPopups"),y=a("./availabilityCalendarWidget"),z=a("../LC/availabilityCalendar"),A=a("../LC/autofillSubmenu"),B=a("../LC/TabbedUX.wizard"),C=a("../LC/hasConfirmSupport"),D=a("../LC/postalCodeServerValidation"),E=a("../LC/TabbedUX.changesNotification"),F=a("../LC/TabbedUX.autoload"),G=a("./home");window.escapeJQuerySelectorValue=a("../LC/jqueryUtils").escapeJQuerySelectorValue;var H=a("./providerWelcome"),I=a("../LC/HelpPoint").HelpPoint;c(window).load(function(){/\/dashboard\//i.test(location)||setTimeout(function(){c("html,body").scrollTop(0)},1)}),c(function(){function a(){c(document).has("form").length&&r.setup("form")}H.show(),LC.placeHolder(),LC.autoFocus(),LC.initTooltips(),d.init(),u.init(),v.enable(LcUrl.LangPath),w.enable(LcUrl.LangPath),x.enable(LcUrl.LangPath),y.init(LcUrl.LangPath),z.Weekly.enableAll(),j.connectAction(),LC.datePicker.init(),m.onTableItems(),m.onSummary(),C.on(),D.init({baseUrl:LcUrl.LangPath}),F.init(TabbedUX),TabbedUX.init(),TabbedUX.focusCurrentLocation(),TabbedUX.checkVolatileTabs(),i.init(TabbedUX),B.init(TabbedUX,{loadingDelay:gLoadingRetard}),E.init(TabbedUX),A(),I.enableAll(document),/^#!/.test(window.location.hash)&&c(document).trigger("loadHashBang",window.location.hash.substring(1)),c(document).on("click",".reload-action",function(){var a=c(this);a.closest(a.data("reload-target")).reload()}),c(document).on("click","a.target-tab",function(){var a=TabbedUX.getTab(c(this).attr("href"));return a?(TabbedUX.focusTab(a),!1):void 0}),c.fn.hashchange&&c(window).hashchange(function(){if(!/^#!/.test(location.hash)){var a=TabbedUX.getTab(location.hash);a&&TabbedUX.focusTab(a)}}),G.init(),a(),c(document).ajaxComplete(a),c(document).trigger("lcScriptReady").trigger("lcLibReady")})},{"../LC/Array.remove":1,"../LC/Cookie":7,"../LC/HelpPoint":10,"../LC/LcUrl":11,"../LC/Price":12,"../LC/String.prototype.contains":16,"../LC/StringFormat":"NBNrUh","../LC/TabbedUX":21,"../LC/TabbedUX.autoload":19,"../LC/TabbedUX.changesNotification":20,"../LC/TabbedUX.sliderTabs":22,"../LC/TabbedUX.wizard":23,"../LC/TimeSpan":"BE/3cj","../LC/TimeSpanExtra":"so8zgW","../LC/UISliderLabels":28,"../LC/ajaxCallbacks":"g22qGq","../LC/ajaxForms":"0NFXny","../LC/autoCalculate":33,"../LC/autoFocus":34,"../LC/autofillSubmenu":35,"../LC/availabilityCalendar":"qcqtAx","../LC/blockPresets":50,"../LC/changesNotification":"bQChrF","../LC/crudl":54,"../LC/datePicker":57,"../LC/dateToInterchangeableString":58,"../LC/getText":"B9HwAX","../LC/getXPath":61,"../LC/googleMapReady":"TPQyHE","../LC/guidGenerator":64,"../LC/hasConfirmSupport":65,"../LC/i18n":66,"../LC/isEmptyString":67,"../LC/jquery.are":68,"../LC/jquery.hasScrollBar":70,"../LC/jquery.reload":73,"../LC/jquery.xtsh":74,"../LC/jqueryUtils":"iWea/N","../LC/loader":77,"../LC/mathUtils":78,"../LC/moveFocusTo":"lyuNFv","../LC/numberUtils":81,"../LC/placeholder-polyfill":82,"../LC/popup":83,"../LC/postalCodeServerValidation":84,"../LC/sanitizeWhitespaces":86,"../LC/smoothBoxBlock":"TinZqq","../LC/tooltips":"3mmOyL","../LC/urlUtils":91,"../LC/validationHelper":"UpLaI0","./accountPopups":94,"./availabilityCalendarWidget":96,"./faqsPopups":97,"./home":98,"./legalPopups":99,"./providerWelcome":100,"./welcomePopup":101}],96:[function(a,b,c){var d=a("jquery"),e=a("../LC/smoothBoxBlock"),f=a("../LC/dateToInterchangeableString");a("../LC/jquery.reload"),c.init=function(a){d(document).on("click",".calendar-controls .action",function(){var b=d(this);if(b.hasClass("zoom-action")){var c=b.closest(".availability-calendar").find(".calendar").clone();c.css("font-size","2px");
var g=b.closest(".tab-body");return c.data("popup-container",g),void e.open(c,g,"availability-calendar",{closable:!0})}var h=b.hasClass("next-week-action"),i=b.closest(".availability-calendar"),j=i.children(".calendar-container"),k=j.children(".calendar"),l=i.find(".calendar-info"),m=new Date(k.data("showed-date")),n=k.data("user-id");m.setDate(h?m.getDate()+7:m.getDate()-7);var o=f(m),p=a+"Profile/$AvailabilityCalendarWidget/Week/"+encodeURIComponent(o)+"/?UserID="+n;return j.reload(p,function(){var a=d(".calendar",this.element);l.find(".year-week").text(a.data("showed-week")),l.find(".first-week-day").text(a.data("showed-first-day")),l.find(".last-week-day").text(a.data("showed-last-day"))}),!1})}},{"../LC/dateToInterchangeableString":58,"../LC/jquery.reload":73,"../LC/smoothBoxBlock":"TinZqq"}],97:[function(a,b,c){function d(a){a="string"==typeof a?a:e(this).attr("href");var b=a.split("-");if("#FAQs"!=b[0])return console&&console.error&&console.error("The URL is not a FAQ url (doesn't starts with #FAQs-)",a),!0;var c=b.length>1?b[1]:"";if(c)var d=popup(f+c,"large",function(){var b=e(a),c=d.getContentElement();c.scrollTop(c.scrollTop()+b.position().top-50),setTimeout(function(){b.effect("highlight",{},2e3)},400)});return!1}var e=a("jquery"),f="HelpCenter/$FAQs";c.enable=function(a){return f=(a||"/")+f,e(document).on("click",'a[href|="#FAQs"]',d),/^#FAQs/i.test(location.hash)&&d(location.hash),d}},{}],98:[function(a,b,c){c.init=function(){var a=$("#search-location");a.prop("readonly",!0),a.autocomplete({source:LC.searchLocations,autoFocus:!0,minLength:0,select:function(){return!1}}),a.on("focus click",function(){a.autocomplete("search","")});$("#search-service").autocomplete({source:LcUrl.JsonPath+"GetPositions/Autocomplete/",autoFocus:!1,minLength:0,select:function(a,b){return $(this).val(b.item.positionSingular),!1},focus:function(a,b){return!b||!b.item||!b.item.positionSingular,$(this).val(b.item.positionSingular),!1}})}},{}],99:[function(a,b,c){var d=a("jquery");c.enable=function(a){d(document).on("click",".view-privacy-policy",function(){return popup(a+"HelpCenter/$PrivacyPolicy/","large"),!1}).on("click",".view-terms-of-use",function(){return popup(a+"HelpCenter/$TermsOfUse/","large"),!1})}},{}],100:[function(a,b,c){var d=a("jquery"),e=a("LC/SimpleSlider");c.show=function(){d(".ProviderWelcome .ProviderWelcome-presentation").each(function(){var a=d(this),b=(new e({element:a,selectors:{slides:".ProviderWelcome-presentation-slides",slide:".ProviderWelcome-presentation-slide"},currentSlideClass:"js-isCurrent",hrefPrefix:"goSlide_",duration:1e3}),a.find(".ProviderWelcome-presentation-actions-slides").hide());a.find(".ProviderWelcome-presentation-actions-start .start-action").on("click",function(){d(this).hide(),b.fadeIn(1e3)})})}},{"LC/SimpleSlider":"BhQbxR"}],101:[function(a,b,c){var d=a("jquery");a("bootstrap");var e=a("../LC/Cookie"),f=!1;c.init=function(){c.autoShow(),d(document).on("click","a.sign-up, a.register, a.need-login, button.need-login",function(){return d.unblockUI(),!c.show()})},c.autoShow=function(){var a=d("#welcomepopup"),b=d("#welcome-popup-overlay");return a.length&&a.is(":visible")&&0===a.closest("#welcome-popup-overlay").length?(b.hide(),void c.show()):void(b.hasClass("auto-show")&&c.show())},c.show=function(){function a(a){var b=c.find(".profile-choice, header .presentation");a?b.slideDown("fast"):b.show();var e=c.find(".terms, .profile-data");a?e.slideUp("fast"):e.hide(),c.find(".back-action").hide(),c.find(".profile-data li:not(.position-description)").show(),c.find(".profile-choice [name=profile-type]").prop("checked",!1),c.find("a.terms-of-use").data("tooltip-url",function(){return d(this).attr("data-tooltip-url")}),c.find(".profile-data li input:not([type=hidden])").attr("data-val",null).removeClass("input-validation-error")}function b(a){c.find("[name=jobtitle]").autocomplete({source:LcUrl.JsonPath+"GetPositions/Autocomplete/",autoFocus:!1,minLength:0,select:function(b,e){return e&&e.item&&e.item.value?(c.find("[name=positionid]").val(e.item.value),a.call(this,b,e),d(this).val(e.item.positionSingular),!1):void 0},focus:function(a,b){return b&&b.item&&b.item.positionSingular?(d(this).val(b.item.positionSingular),!1):!1}})}var c=d("#welcomepopup");if(0===c.length)return!1;if("false"===e.get("WelcomePopupVisible"))return!1;var g=c.closest("#welcome-popup-overlay");if(g.fadeIn(300),f)return a(),!0;f=!0;var h=c.find('.close-popup, [href="#close-popup"]');0===g.length?h.hide():h.show().on("click",function(){return g.fadeOut("normal"),e.set("WelcomePopupVisible","false"),!1}),c.find(".back-action").on("click",function(b){a(!0),b.preventDefault()}),c.find('[data-toggle="popover"]').popover().filter('a[href="#"]').on("click",function(a){a.preventDefault()});var i=c.hasClass("select-position");i||c.find(".profile-data, .terms, .position-description").hide(),c.find("form").get(0).reset();var j={textarea:function(a,b){c.find(".position-description").slideDown("fast").find("textarea").val(b.item.description)},tooltip:function(a,b){var c=d(this);c.popover("destroy").popover({title:"Does this sound like you?",content:b.item.description,trigger:"focus",placement:d("html").width()<640?"top":"left"}).popover("show").off("keypress.description-tooltip").on("keypress.description-tooltip",function(){c.popover("hide")})}};return setTimeout(function(){c.find("[placeholder]").placeholder()},500),b(j.tooltip),c.find("#welcomepopupLoading").remove(),c.on("change",".profile-choice [name=profile-type]",function(){c.find(".back-action").show(),c.find(".profile-data li:not(."+this.value+")").hide(),c.find(".profile-choice, header .presentation").slideUp("fast"),c.find(".terms, .profile-data").slideDown("fast"),"customer"==this.value&&c.find("a.terms-of-use").data("tooltip-url",null);var a=c.find(".facebook-connect"),b="customers";"provider"==this.value&&(b="providers"),a.data("redirect",a.data("redirect")+b),a.data("profile",this.value),c.find(".profile-data li."+this.value+" input:not([data-val]):not([type=hidden])").attr("data-val-required","").attr("data-val",!0),LC.setupValidation()}),c.on("ajaxFormReturnedHtml","form.ajax",function(){b(j.tooltip),c.find(".profile-choice [name=profile-type]:checked").change()}),c.find(".profile-choice [name=profile-type]:checked").change(),!0}},{"../LC/Cookie":7}],102:[function(){!function(a,b){var c=/(["'])((?:[^\\]|\\.)*?)\1|YYYY|([MD])\3\3(\3?)|SS|([YMDHhmsW])(\5?)|[uUAZSwo]/g,d=/(\d{4})[-.\/](\d\d?)[-.\/](\d\d?)/,e=/(\d\d?)[-.\/](\d\d?)[-.\/](\d{4})/,f=/(\d\d?):(\d\d):?(\d\d)?\.?(\d{3})?(?:\s*(?:(a)|(p))\.?m\.?)?(\s*(?:Z|GMT|UTC)?(?:([-+]\d\d):?(\d\d)?)?)?/i,g=/.[a-z]+/g,h=/\\(.)/g;a[b].format=function(b){b=a.masks[b]||b||a.masks["default"];var d=this,e="get"+("UTC:"==b.slice(0,4)?(b=b.slice(4),"UTC"):"");return b.replace(c,function(b,c,f,g,i,j,k){return f="Y"==j?d[e+"FullYear"]()%100:"YYYY"==b?d[e+"FullYear"]():"M"==j?d[e+"Month"]()+1:"M"==g?a.monthNames[d[e+"Month"]()+(i?12:0)]:"D"==j?d[e+"Date"]():"D"==g?a.dayNames[d[e+"Day"]()+(i?7:0)]:"H"==j?d[e+"Hours"]()%12||12:"h"==j?d[e+"Hours"]():"m"==j?d[e+"Minutes"]():"s"==j?d[e+"Seconds"]():"S"==b?d[e+"Milliseconds"]():"SS"==b?(c=d[e+"Milliseconds"](),c>99?c:(c>9?"0":"00")+c):"u"==b?d/1e3>>>0:"U"==b?+d:"A"==b?a[d[e+"Hours"]()>11?"pm":"am"]:"Z"==b?"GMT "+-d.getTimezoneOffset()/60:"w"==b?d[e+"Day"]()||7:"W"==j?(c=new a(+d+864e5*(4-(d[e+"Day"]()||7))),Math.ceil(((c.getTime()-c["s"+e.slice(1)+"Month"](0,1))/864e5+1)/7)):"o"==b?new a(+d+864e5*(4-(d[e+"Day"]()||7)))[e+"FullYear"]():c?f.replace(h,"$1"):b,k&&10>f?"0"+f:f})},a.am="AM",a.pm="PM",a.masks={"default":"DDD MMM DD YYYY hh:mm:ss",isoUtcDateTime:'UTC:YYYY-MM-DD"T"hh:mm:ss"Z"'},a.monthNames="JanFebMarAprMayJunJulAugSepOctNovDecJanuaryFebruaryMarchAprilMayJuneJulyAugustSeptemberOctoberNovemberDecember".match(g),a.dayNames="SunMonTueWedThuFriSatSundayMondayTuesdayWednesdayThursdayFridaySaturday".match(g),String[b].date=Number[b].date=function(b){var c,g,h=new a,i=+this||""+this;return isNaN(i)?((c=i.match(d))?h.setFullYear(c[1],c[2]-1,c[3]):(c=i.match(e))&&(g=a.middle_endian?1:2,h.setFullYear(c[3],c[g]-1,c[3-g])),c=i.match(f)||[0,0,0],h.setHours(c[6]&&c[1]<12?+c[1]+12:c[5]&&12==c[1]?0:c[1],c[2],0|c[3],0|c[4]),c[7]&&h.setTime(h-6e4*(h.getTimezoneOffset()+60*(0|c[8])+(c[8]<0?-1:1)*(0|c[9])))):h.setTime(4294967296>i?1e3*i:i),b?h.format(b):h}}(Date,"prototype")},{}],103:[function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}b.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length))throw b=arguments[1],b instanceof Error?b:TypeError('Uncaught, unspecified "error" event.');if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];c.apply(this,h)}else if(f(c)){for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];for(j=c.slice(),e=j.length,i=0;e>i;i++)j[i].apply(this,h)}return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned){var e;e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}]},{},[95,"4b8n5S","rgrJsD","BhQbxR"]);
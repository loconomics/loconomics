<div class="Boxes-sm">
    <app-inline-user-menu></app-inline-user-menu>
    <div class="container">
        <div class="SubSectionNavBar hidden-xs hidden-sm">
            <ul>
                <li>
                    <a data-bind="attr: { href: '/earnings-add/' + '?mustReturn=earnings'+ '&returnText=Earnings' }">
                        <icon-dec params="icon: 'ion-ios-arrow-thin-left'"></icon-dec> Add Earnings
                    </a>
                </li>
            </ul>
        </div>
        <h1 data-bind="text: title"></h1>
        <div class="col-md-7 col-sm-reset">
            <form id="copyEarningsForm">
                <!-- @iagosrl I made this a form with the editor component inside so it could be done in one activity. We want to add a warning message if the user doesn't change anything in the editor -->
                <fieldset id="copyEarningsForm-SelectEarnings" class="earnings-step"
                data-bind="visible: isAtStep(1), autofocus: isAtStep(1)">
                    <legend>Select an earnings entry to copy</legend>
                    <earnings-list params="listMode: 'select', selectItem: selectEarnings"></earnings-list>
                </fieldset>
                <!-- We use the 'if' binding to enforce that the editor is only created once an ID was choosen,
                    using ressources correctly, and the editor need this because is for one use only; if this is
                    not done, the editor will not get the ID (check its params docs) -->
                <fieldset id="copyEarningsForm-ReviseEarnings" class="earnings-step"
                data-bind="if: isAtStep(2), visible: isAtStep(2), autofocus: isAtStep(2)">
                    <legend>Revise earnings and submit</legend>
                    <earnings-editor params="earningsEntryID: earningsEntryID, editorMode: 'copy', onSaved: onSaved"
                    ></earnings-editor>
                </fieldset>
            </form>
        </div>
        <div class="SideMenu hidden-xs hidden-sm col-md-3 col-md-offset-1">
           <app-inline-side-menu params="vocElement: 'earningsTracking'"></app-inline-side-menu>
        </div>
    </div>
</div>

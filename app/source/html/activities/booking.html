<!-- Activity booking -->
<div data-activity="booking" data-bind="css: { 'is-loading': isLoading }">
    <h1><icon-dec params="icon: 'ion-ios-pricetags-outline'"></icon-dec> <span data-bind="text: bookingHeader"></span><span data-bind="text: title"></span></h1>  
    <div class="container animated">
        <div class="row" data-bind="if: booking">
            <div class="Sidebar hidden-xs hidden-sm col-md-3" >
                <h2>Steps:</h2>
                <div class="row" data-bind="foreach: { data: progress.stepsList, as: 'stepName' }">
                    <a type="button" class="btn btn-link btn-block" data-bind="css: { active: $parent.progress.observeStep(stepName)() }, text: $parent.getStepLabel(stepName), click: $parent.progress.go.bind($parent.progress, stepName)"></a>
                </div>
            </div>
            <div class="col-md-9 col-sm-reset booking-steps">
                <div class="booking-step" data-bind="attr: { hidden: !isAtServices() }">
                    <app-loading-spinner params="mod: 'row bigger'"></app-loading-spinner>
                    <div class="isolated-sm top-only text-center Box-sm PaddedBox-xs" data-bind="visible: isAnonymous">
                        <span>Already have an account?  </span>
                        <a href="/login" class="btn btn-default" data-bind="click: goLogin">Sign in
                        </a>
                    </div>
                    <form id="bookingSelectOfferingsForm">
                        <fieldset>
                            <legend class="text-uppercase">YOUR PROFESSIONAL</legend>
                            <div data-bind="template: { name: 'service-professional-info-template', data: serviceProfessionalInfo() }"></div>
                        </fieldset>
                        <fieldset>
                            <legend class="text-uppercase">SELECT OFFERING(S)</legend>
                            <div data-bind="template: { name: 'service-professional-service-template', data: serviceProfessionalServices }"></div>
                        </fieldset>
                        <fieldset data-bind="visible: booking().pricingSummary().servicesSummary()">
                            <legend class="text-uppercase">SUMMARY</legend>
                            <div class="PricingSummary PaddedBox-xs">
                                <table>
                                    <tbody data-bind="foreach: booking().pricingSummary().items">
                                        <tr>
                                            <td class="PricingSummary-concept" data-bind="text: serviceName"></td>
                                            <td class="PricingSummary-price" data-bind="text: price, format: { type: 'number', format: '$#,##0.00' }"></td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <th class="PricingSummary-concept">Total</th>
                                            <th class="PricingSummary-price"><span data-bind="text: booking().pricingSummary().totalPrice, format: { type: 'number', format: '$#,##0.00' }"></span><span data-bind="visible: booking().pricingSummary().clientServiceFeePrice() > 0">*</span></th>
                                        </tr>
                                        <tr data-bind="visible: booking().pricingSummary().clientServiceFeePrice() > 0">
                                            <td class="PricingSummary-fees" colspan="2">
                                                <span data-bind="text: booking().pricingSummary().feesMessage"></span>
                                            </td>
                                        </tr>
                                    </tfoot>
                                </table>
                                <div class="PricingSummary-time isolated inset" data-bind="visible: booking().pricingSummary().firstSessionDurationDisplay">
                                    <span class="fa fa-lg ion ion-ios-clock-outline" aria-hidden="true"></span>
                                    <span data-bind="text: booking().pricingSummary().firstSessionDurationDisplay"></span>
                                </div>
                            </div>
                        </fieldset>
                        <div class="PaddedBox-xs-only isolated-sm">
                            <div>
                                <button type="submit" class="btn btn-primary btn-block" data-bind="disable: isLocked() || !hasServicesSelected(), click: nextStep">Save and continue</button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="booking-step" data-bind="attr: { hidden: !isAtLocation() }, css: { 'is-loading': isLoadingServiceAddresses }">
                    <app-loading-spinner params="mod: 'row bigger'"></app-loading-spinner>
                    <div class="isolated-sm top-only text-center Box-sm PaddedBox-xs" data-bind="visible: isAnonymous">
                        <a href="/login" class="btn btn-link" data-bind="click: goLogin">
                            <span class="text-muted">Already have an account?</span>
                            <span class="text-secondary">Sign in</span>
                        </a>
                    </div>
                    <form id="bookingSelectLocationForm" data-bind="visible: !addressEditorOpened()">
                        <fieldset>
                            <legend class="text-uppercase">SELECT A LOCATION</legend>
                            <fieldset data-bind="visible: serviceAddresses.hasAddresses">
                                <legend><span data-bind="text: serviceProfessionalInfo() && serviceProfessionalInfo().profile() && serviceProfessionalInfo().profile().firstName()"></span>'s locations:</legend>
                                <div class="Box-sm" data-bind="template: { name: 'service-addresses-template', data: serviceAddresses }"></div>
                            </fieldset>
                            <fieldset data-bind="visible: clientAddresses.hasAddresses">
                                <legend>Select one of your locations:</legend>
                                <div class="Box-sm" data-bind="template: { name: 'service-addresses-template', data: clientAddresses }"></div>
                            </fieldset>
                            <fieldset data-bind="visible: hasServiceArea">
                                <legend>Add new location within <span data-bind="text: serviceProfessionalInfo() && serviceProfessionalInfo().profile() && serviceProfessionalInfo().profile().firstName()"></span>'s service area(s)</legend>
                                <ul class="TilesList" data-bind="foreach: serviceAddresses.serviceAreas">
                                    <li>
                                        <a class="IconContentItem" href="#" data-bind="click: $parent.addAddress">
                                            <icon-dec params="icon: 'ion-plus'"></icon-dec>
                                            <div class="Item-content">
                                                <p>Add your location within <span data-bind="text: serviceRadius"></span> miles of <span data-bind="text: postalCode"></span></p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </fieldset>
                        </fieldset>
                    </form>
                    <!-- ko if: addressEditorOpened -->
                    <form id="addBookingLocationForm">
                        <fieldset>
                            <legend>Add your location details:</legend>
                            <div data-bind="with: booking().serviceAddress">
                                <div class="form-group">
                                    <label for="addressLine1">Street address line 1:</label>
                                    <input id="addressLine1" type="text" class="form-control" required maxlength="100" data-bind="textInput: addressLine1, disable: $parent.isLocked">
                                </div>
                                <div class="form-group">
                                    <label for="addressLine2">Street address line 2:</label>
                                    <input id="addressLine2" type="text" class="form-control" maxlength="100" data-bind="textInput: addressLine2, disable: $parent.isLocked">
                                </div>
                                <div class="form-group" data-bind="css: { 'has-error': $root.errorMessages.postalCode() }">
                                    <label for="postalCode">Zip code:</label>
                                    <input id="postalCode" type="number" class="form-control" min="0" required data-bind="textInput: postalCode, event: { blur: $root.postalCodeVM.onBlur }, disable: $parent.isLocked, popover: { content: $root.errorMessages.postalCode(), trigger: 'focus', container: 'body', placement: 'bottom' }" aria-describedby="mailingAddressInstructions">
                                </div>
                                <div class="form-group" data-bind="visible: city() || stateProvinceCode()">
                                    <label for="city">City:</label>
                                    <p id="city" class="form-control-static">
                                        <span data-bind="text: city() + ', ' + stateProvinceCode()"></span>
                                        <!-- White space to reserve vertical space -->
                                        &nbsp;
                                    </p>
                                </div>
                                <div class="form-group">
                                    <label for="addressName">Save location as:</label>
                                    <input id="addressName" type="text" class="form-control" maxlength="50" data-bind="textInput: addressName, disable: $parent.isLocked" placeholder="e.g., My home, My office" aria-describedby="addressNameInstructions">
                                    <p id="addressNameInstructions" class="sr-only">For example, "My home" or "My office"</p>
                                </div>
                                <div class="form-group">
                                    <label for="addressSpecialInstructions">Special instructions for location:</label>
                                    <textarea id="addressSpecialInstructions" type="text" rows="3" class="form-control" maxlength="1000" data-bind="textInput: specialInstructions, disable: $parent.isLocked" placeholder="Is there anything tricky to get to your location? How's the parking? Any pets? List anything helpful." aria-describedby="addressSpecialInstructionsHint"></textarea> 
                                    <p id="addressSpecialInstructionsHint" class="sr-only">Is there anything tricky to get to your location? How's the parking? Any pets? List anything helpful.</p>
                                </div>
                                <button type="submit" class="btn btn-primary btn-block" data-bind="disable: $parent.isLocked, click: $parent.nextStep">Save and continue</button>
                            </div>
                        </fieldset>
                    </form>
                    <!-- /ko -->
                </div>
                <div class="booking-step" data-bind="attr: { hidden: !(isAtSelectTimes() || isAtSelectTime()) }">
                    <app-loading-spinner params="mod: 'row bigger'"></app-loading-spinner>
                    <div class="isolated-sm top-only text-center Box-sm PaddedBox-xs" data-bind="visible: isAnonymous">
                        <span>Already have an account?  </span>
                        <a href="/login" class="btn btn-default" data-bind="click: goLogin">Sign in
                        </a>
                    </div>
                    <form id="bookingRequestTimesForm" data-bind="visible: !timeFieldToBeSelected()" class="Box-sm" aria-describedby="bookingRequestTimesFormInstructions">
                        <fieldset>
                            <legend class="text-uppercase">REQUEST UP TO THREE APPOINTMENT TIMES</legend>
                            <ul class="TilesList">
                                <li data-bind="visible: booking().serviceDate() && booking().serviceDate().startTime()">
                                    <div class="TimeItem">
                                        <label for="serviceDate" class="Item-content">
                                            <h3>First choice:</h3>
                                            <p data-bind="text: booking().serviceDate() && booking().serviceDate().startTime(), format: { type: 'datetime', format: 'dddd, MMMM Do YYYY' }"></p>
                                            <p data-bind="text: booking().serviceDate() && booking().serviceDate().displayedTimeRange()"></p>
                                        </label>
                                        <span id="serviceDate" role="button" class="Item-action" data-bind="click: pickServiceDate" aria-label="Edit second choice"><icon-dec params="icon: 'ion-edit'"></icon-dec>
                                        </span>
                                    </div>
                                </li>
                                <li data-bind="visible: !(booking().serviceDate() && booking().serviceDate().startTime())">
                                    <button class="IconContentItem" type="button" data-bind="click: pickServiceDate">
                                        <icon-dec params="icon: 'ion-plus'"></icon-dec>
                                        <div class="Item-content">
                                            <p>Select a day and time</p>
                                        </div>
                                    </button>
                                </li>
                                <li data-bind="visible: booking().alternativeDate1() && booking().alternativeDate1().startTime()">
                                    <div class="TimeItem">
                                        <label for="alternativeDate1" class="Item-content">
                                            <h3>Second choice:</h3>
                                            <p data-bind="text: booking().alternativeDate1() && booking().alternativeDate1().startTime(), format: { type: 'datetime', format: 'dddd, MMMM Do YYYY' }"></p>
                                            <p data-bind="text: booking().alternativeDate1() && booking().alternativeDate1().displayedTimeRange()"></p>
                                        </label>
                                        <span id="alternativeDate1" role="button" class="Item-action" data-bind="click: pickAlternativeDate1" aria-label="Edit second choice"><icon-dec params="icon: 'ion-edit'"></icon-dec>
                                        </span>
                                    </div>
                                </li>
                                <li data-bind="visible: booking().serviceDate() && !(booking().alternativeDate1() && booking().alternativeDate1().startTime())">
                                    <button class="IconContentItem" type="button" data-bind="click: pickAlternativeDate1">
                                        <icon-dec params="icon: 'ion-plus'"></icon-dec>
                                        <div class="Item-content">
                                            <p>Select a second day and time</p>
                                        </div>
                                    </button>
                                </li>
                                <li data-bind="visible: booking().alternativeDate2() && booking().alternativeDate2().startTime()">
                                    <div class="TimeItem">
                                        <label for="alternativeDate2" class="Item-content">
                                            <h3>Third choice:</h3>
                                            <p data-bind="text: booking().alternativeDate2() && booking().alternativeDate2().startTime(), format: { type: 'datetime', format: 'dddd, MMMM Do YYYY' }"></p>
                                            <p data-bind="text: booking().alternativeDate2() && booking().alternativeDate2().displayedTimeRange()"></p>
                                        </label>
                                        <span id="alternativeDate2" role="button" class="Item-action" data-bind="click: pickAlternativeDate1" aria-label="Edit second choice"><icon-dec params="icon: 'ion-edit'"></icon-dec>
                                        </span>
                                    </div>
                                </li>
                                <li data-bind="visible: booking().serviceDate() && booking().alternativeDate1() && !(booking().alternativeDate2() && booking().alternativeDate2().startTime())">
                                    <button class="IconContentItem" type="button" data-bind="click: pickAlternativeDate2">
                                        <icon-dec params="icon: 'ion-plus'"></icon-dec>
                                        <div class="Item-content">
                                            <p>Select a third day and time</p>
                                        </div>
                                    </button>
                                </li>
                            </ul>
                        </fieldset>
                        <div class="isolated bottom-only">
                            <button type="submit" class="btn btn-primary btn-block" data-bind="disable: isLocked, click: nextStep">Save and continue</button>
                        </div>
                        <p id="bookingRequestTimesFormInstructions" class="help-block">Request up to three times for your appointment. This allows us to figure out a good time on both ends. Your service professional has 18 hours to confirm your appointment.</p>
                    </form>
                    <form id="bookingSelectTimeForm" data-bind="visible: timeFieldToBeSelected()" class="Box-sm">
                        <legend class="text-uppercase">SELECT A START DAY AND TIME</legend>
                        <app-datetime-picker params="api: serviceStartDatePickerView"></app-datetime-picker>
                    </form>
                </div>
                <div class="booking-step" data-bind="attr: { hidden: !isAtPayment() }">
                    <app-loading-spinner params="mod: 'row bigger'"></app-loading-spinner>
                    <div class="isolated-sm top-only text-center Box-sm PaddedBox-xs" data-bind="visible: isAnonymous">
                        <a href="/login" class="btn btn-link" data-bind="click: goLogin">
                            <span class="text-muted">Already have an account?</span>
                            <span class="text-secondary">Sign in</span>
                        </a>
                    </div>
                    <form id="bookingPaymentForm" class="PaddedBox-xs Box-md" data-bind="visible: !addressEditorOpened()" aria-describedby="bookingPaymentFormInstructions">
                        <fieldset data-bind="with: paymentMethod">
                            <legend class="text-uppercase">ADD PAYMENT INFORMATION</legend>
                            <div class="form-group">
                                <label for="creditCard">Credit card number:</label>
                                <span class="input-group">
                                    <input id="creditCard" type="text" required class="form-control" data-bind="textInput: cardNumber, disable: $parent.isLocked" aria-describedby="creditCardSecureForm">
                                    <span class="input-group-addon" aria-hidden="true">
                                        <span class="fa ion ion-card fa-lg"></span>
                                    </span>
                                </span>
                            </div>
                            <div class="row">
                                <div class="col-sm-7">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <label for="expiry" class="input-group-addon">Expires (mm/yyyy):</label>
                                            <input id="expiry" type="text" required class="form-control" data-bind="value: expirationMonthYear, disable: $parent.isLocked" placeholder="mm/yyyy"  aria-describedby="creditCardSecureForm">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <label for="securityCode" class="input-group-addon">CCV:</label>
                                            <input id="securityCode" type="text" required class="form-control" data-bind="value: securityCode, disable: $parent.isLocked" aria-describedby="creditCardSecureForm">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="userFees-postalCode">Zip code:</label>
                                <input id="userFees-postalCode" type="number" required class="form-control" min="0" data-bind="textInput: billingAddress().postalCode, disable: $parent.isLocked"  aria-describedby="creditCardSecureForm">
                            </div>
                            <div id="creditCardSecureForm" class="booking-secure-form-warning">
                                <span class="fa ion ion-ios-locked-outline fa-lg" aria-hidden="true"></span><span>  This is a secure 128 bit SSL encrypted form, and we're PCI compliant</span>
                            </div>
                        </fieldset>
                        <button type="submit" class="btn btn-primary btn-block" data-bind="disable: isLocked, click: nextStep">Save and continue</button>
                        <div id="bookingPaymentFormInstructions" class="well Box-xs">
                            <h2><strong>How payment works:</strong></h2>
                            <p>
                                <span data-bind="visible: !booking().instantBooking()">Your card will be authorized for $<span data-bind="text: booking().pricingSummary().totalPrice"></span> after <span data-bind="text: serviceProfessionalInfo() && serviceProfessionalInfo().profile() && serviceProfessionalInfo().profile().firstName()"></span> confirms this booking. It will be charged on the day <span data-bind="text: serviceProfessionalInfo() && serviceProfessionalInfo().profile() && serviceProfessionalInfo().profile().firstName()"></span> performs the scheduled services.</span>
                                <span data-bind="visible: booking().instantBooking()">Your card will be authorized for $<span data-bind="text: booking().pricingSummary().totalPrice"></span> when you confirm this booking in the next step. It will be charged on the day <span data-bind="text: serviceProfessionalInfo() && serviceProfessionalInfo().profile() && serviceProfessionalInfo().profile().firstName()"></span> performs the scheduled services.</span>
                            </p>
                        </div>
                    </form>
                </div>
                <div class="booking-step" data-bind="attr: { hidden: !isAtConfirm() }">
                    <app-loading-spinner params="mod: 'row bigger'"></app-loading-spinner>
                    <div class="isolated-sm top-only text-center Box-sm PaddedBox-xs" data-bind="visible: isAnonymous">
                        <span>Already have an account?  </span>
                        <a href="/login" class="btn btn-default" data-bind="click: goLogin">Sign in
                        </a>
                    </div>
                    <form id="bookingConfirmationForm" class="Box-sm" aria-describedby="bookingConfirmationFormInstructions">
                        <fieldset>
                            <legend class="text-uppercase" data-bind="visible: isAnonymous()">SIGN UP AND CONFIRM BOOKING</legend>
                            <legend class="text-uppercase" data-bind="visible: !isAnonymous()">CONFIRM BOOKING</legend>
                            <div class="SignupLogin" data-bind="visible: isAnonymous(), with: signupVM">
                                <div class="LeadContent">
                                    <button href="#facebook" data-bind="click: facebook, disable: !enableFacebookButton()" class="btn btn-lg btn-block btn-facebook">
                                        <i class="fa ion ion-social-facebook pull-left" aria-hidden="true"></i><span data-bind="text: facebookSubmitText"></span>
                                    </button>
                                    <p class="isolated text-center">
                                        or
                                    </p>
                                    <!-- <div data-bind="visible: !isEmailSignupDisplayed()">
                                        <button href="#email" data-bind="click: showEmailSignup" class="btn btn-lg btn-default btn-block btn-email"><i class="fa ion ion-ios-email-outline pull-left" aria-hidden="true"></i>Sign up with Email</button>
                                    </div> -->
                                    <form id="signupForm" role="form" data-bind=" event: { submit: clickSignup }, css: { 'has-error': signupError }" novalidate>
                                        <div data-bind="visible: forClient">
                                            <label for="firstName">First Name*</label>
                                            <div data-bind="template: { name: 'signup-field', data: { id: 'firstName', name: 'firstName', field: firstName,  placeholder: '', type: 'text'} }, css: {'is-valid': isFirstNameValid}"></div>
                                            <label for="lastName">Last Name*</label>
                                            <div data-bind="template: { name: 'signup-field', data: { id: 'lastName', name: 'lastName', field: lastName,  placeholder: '', type: 'text'} }, css: {'is-valid': isLastNameValid}"></div>
                                        </div>
                                        <label for="countryID" data-bind="visible: isCountryVisible">Country*</label>
                                        <div class="form-group has-feedback is-valid" data-bind="css: { 'has-error': countryID.error }, visible: isCountryVisible">
                                            <select id="countryID" data-bind="value: country, options: countriesOptions, optionsText: 'name', optionsValues: 'id'" class="form-control select-unstyled"></select>
                                            <i class="fa form-control-feedback text-muted pull-right icon-right icon ion-android-arrow-dropdown" style="color: black" aria-hidden="true"></i>
                                            <i class="fa form-control-feedback text-muted pull-right icon-right icon ion-android-done" aria-hidden="true"></i>
                                        </div>
                                        <div data-bind="visible: forClient">
                                            <label for="phone">Mobile Phone*</label>
                                            <div data-bind="template: { name: 'signup-field', data: { id: 'phone', name: 'phone', field: phone, placeholder: '', type: 'tel' } }, css: {'is-valid': isPhoneValid }"></div>
                                        </div>
                                        <div class="form-group has-feedback" data-bind="css: { 'has-error': email.error }">
                                            <label for="signupAccountEmail">E-mail address*</label>
                                            <div data-bind="template: { name: 'signup-field', data: { id: 'signupAccountEmail', name: 'email', field: email, placeholder: 'example@@address.com', type: 'email'} }, css: {'is-valid': isEmailValid}, disable: emailIsLocked">
                                            </div>
                                        </div>
                                        <div class="form-group has-feedback" data-bind="template: { name: 'validated-password', data: validatedPassword }, css: { 'has-error': validatedPassword.password.error }, visible: !facebookUserID()">
                                        </div>
                                        <p>* - required fields</p>
                                    </form>
                                </div>
                            </div>
                        </fieldset>
                        <fieldset>
                            <legend class="text-uppercase" data-bind="visible: isAnonymous()">CONFIRM BOOKING</legend>
                            <fieldset>
                                <legend>Your professional:</legend>
                                <div data-bind="template: { name: 'service-professional-info-template', data: serviceProfessionalInfo() }"></div>
                            </fieldset>
                            <ul class="TilesList">
                                <li>
                                    <fieldset>
                                        <legend><span data-bind="visible: booking().instantBooking()">Appointment time:</span><span data-bind="visible: !booking().instantBooking()">Requested appointment times:</span></legend>
                                        <div class="TimeSummaryItem" data-bind="visible: !booking().instantBooking()">
                                            <div class="Item-icon">
                                                <icon-dec params="icon: 'ion-ios-clock-outline'"></icon-dec>
                                            </div>
                                            <label for="timesRequested" class="Item-content">
                                                <div data-bind="visible: booking().serviceDate() && booking().serviceDate().startTime()">
                                                    <p>
                                                        <strong>1st choice:</strong>
                                                        <span data-bind="text: booking().serviceDate() && booking().serviceDate().startTime(), format: { type: 'datetime', format: 'dddd, MMMM Do' }"></span>, <span data-bind="visible: booking().serviceDate() && booking().serviceDate().startTime(), text: booking().serviceDate() && booking().serviceDate().displayedTimeRange()"></span>
                                                    </p>
                                                </div>
                                                <div data-bind="visible: booking().alternativeDate1() && booking().alternativeDate1().startTime()">
                                                    <p>
                                                        <strong>2nd choice:</strong>
                                                        <span data-bind="text: booking().alternativeDate1() && booking().alternativeDate1().startTime(), format: { type: 'datetime', format: 'dddd, MMMM Do' }"></span>, <span data-bind="text: booking().alternativeDate1() && booking().alternativeDate1().displayedTimeRange()"></span>
                                                    </p>
                                                </div>
                                                <div data-bind="visible: booking().alternativeDate2() && booking().alternativeDate2().startTime()">
                                                    <p>
                                                        <strong>3rd choice:</strong>
                                                        <span data-bind="text: booking().alternativeDate2() && booking().alternativeDate2().startTime(), format: { type: 'datetime', format: 'dddd, MMMM Do' }"></span>, <span data-bind="text: booking().alternativeDate2() && booking().alternativeDate2().displayedTimeRange()"></span>
                                                    </p>
                                                </div>
                                            </label>
                                            <span id="timesRequested" role="button" class="Item-action" data-bind="click: pickDateTime" aria-label="Edit requested appointment times"><icon-dec params="icon: 'ion-edit'"></icon-dec>
                                            </span>
                                        </div>
                                    </fieldset>
                                </li>
                            </ul>
                        </fieldset>
                    </form>
                    
                    <div class="Box-sm">
                        <ul class="TilesList">
                            <li>
                                <button type="button" class="InfoTile" data-bind="css: { InfoTile: booking().instantBooking(), InfoTile3L: !booking().instantBooking() }, click: pickDateTime">
                                    <div class="Tile-icon" aria-hidden="true">
                                        <span class="fa ion ion-ios-clock-outline"></span>
                                    </div>
                                    <div class="Tile-content" data-bind="visible: !booking().instantBooking()">
                                        <div data-bind="visible: booking().serviceDate() && booking().serviceDate().startTime()">
                                            <strong>1st choice: </strong>
                                            <span data-bind="text: booking().serviceDate() && booking().serviceDate().startTime(), format: { type: 'datetime', format: 'dddd, MMMM Do' }"></span>, <span data-bind="visible: booking().serviceDate() && booking().serviceDate().startTime(), text: booking().serviceDate() && booking().serviceDate().displayedTimeRange()"></span>
                                        </div>
                                        <div data-bind="visible: booking().alternativeDate1() && booking().alternativeDate1().startTime()">
                                            <strong>2nd choice: </strong>
                                            <span data-bind="text: booking().alternativeDate1() && booking().alternativeDate1().startTime(), format: { type: 'datetime', format: 'dddd, MMMM Do' }"></span>, <span data-bind="text: booking().alternativeDate1() && booking().alternativeDate1().displayedTimeRange()"></span>
                                        </div>
                                        <div data-bind="visible: booking().alternativeDate2() && booking().alternativeDate2().startTime()">
                                            <strong>3rd choice: </strong>
                                            <span data-bind="text: booking().alternativeDate2() && booking().alternativeDate2().startTime(), format: { type: 'datetime', format: 'dddd, MMMM Do' }"></span>, <span data-bind="text: booking().alternativeDate2() && booking().alternativeDate2().displayedTimeRange()"></span>
                                        </div>
                                        <p data-bind="visible: !hasSomeDateSelected()" class="text-muted">Select preferred times</p>
                                    </div>
                                    <div class="Tile-content" data-bind="visible: booking().instantBooking">
                                        <div data-bind="visible: booking().serviceDate() && booking().serviceDate().startTime(), text: booking().serviceDate() && booking().serviceDate().startTime(), format: { type: 'datetime', format: 'dddd, MMMM Do' }"></div>
                                        <div data-bind="visible: booking().serviceDate() && booking().serviceDate().startTime(), text: booking().serviceDate() && booking().serviceDate().displayedTimeRange()"></div>
                                        <p data-bind="visible: !(booking().serviceDate() && booking().serviceDate().startTime())" class="text-muted">Select date/time</p>
                                    </div>
                                </button>
                            </li>
                            <li data-bind="if: !isPhoneServiceOnly()">
                                <button type="button" class="InfoTile" data-bind="click: pickLocation">
                                    <div class="Tile-icon" aria-hidden="true">
                                        <span class="fa ion ion-ios-location-outline"></span>
                                    </div>
                                    <div class="Tile-content">
                                        <p data-bind="text: booking().serviceAddress() && booking().serviceAddress().singleLine() || 'Select/Add location', css: { 'text-muted': !(booking().serviceAddress() && booking().serviceAddress().singleLine()) }"></p>
                                    </div>
                                </button>
                            </li>
                            <li>
                                <button type="button" class="InfoTile" data-bind="click: pickServices">
                                    <div class="Tile-icon" aria-hidden="true">
                                        <span class="fa ion ion-ios-pricetags-outline"></span>
                                    </div>
                                    <div class="Tile-content">
                                        <p data-bind="text: booking().pricingSummary() && booking().pricingSummary().servicesSummary() || 'Select/Add service(s)', css: { 'text-muted': !(booking().pricingSummary() && booking().pricingSummary().servicesSummary()) }"></p>
                                    </div>
                                </button>
                            </li>
                            <li class="InfoTile">
                                <div class="Tile-icon" aria-hidden="true">
                                    <span class="fa ion ion-social-usd"></span>
                                </div>
                                <div class="Tile-content">
                                    <p data-bind="text: booking().pricingSummary() && booking().pricingSummary().totalPrice() || 0, format: { type: 'number', format: '$0,0.00' }, css: { 'text-muted': !(booking().pricingSummary() && booking().pricingSummary().totalPrice())}"></p>
                                </div>
                            </li>
                            <!-- <li data-bind="if: supportsGratuity() && booking().paymentEnabled()">
                                <button type="button" class="InfoTile" data-bind="click: pickServices">
                                    <div class="Tile-icon" aria-hidden="true">
                                        <span class="fa ion ion-cash"></span>
                                    </div>
                                    <div class="Tile-content">
                                        <p><span data-bind="text: booking().pricingSummary().gratuity() || 0, format: { type: 'number', format: '$0,0.00' }, css: { 'text-muted': !(booking().pricingSummary().gratuity())}"></span> <span>gratuity</span></p>
                                    </div>
                                </button>
                            </li> -->
                            <li data-bind="if: booking().paymentEnabled()">
                                <button type="button" class="InfoTile" data-bind="click: pickPayment">
                                    <div class="Tile-icon" aria-hidden="true">
                                        <span class="fa ion ion-card"></span>
                                    </div>
                                    <div class="Tile-content">
                                        <p data-bind="text: paymentMethodDisplay() || 'Add payment method', css: { 'text-muted': !(paymentMethodDisplay())}"></p>
                                    </div>
                                </button>
                            </li>
                            <li>
                                <button type="button" class="InfoTile" data-bind="click: pickSpecialRequests">
                                    <div class="Tile-icon" aria-hidden="true">
                                        <span class="fa ion ion-clipboard"></span>
                                    </div>
                                    <div class="Tile-content">
                                        <p data-bind="text: booking().specialRequests() || specialRequestsPlaceholder(), css: { 'text-muted': !(booking().specialRequests())}"></p>
                                    </div>
                                </button>
                            </li>
                        </ul>
                    </div>
                    <div class="PaddedBox-xs-only PaddedBox-sm-only isolated-md">
                        <div>
                            <button type="submit" class="btn btn-primary btn-block" data-bind="disable: isLocked, click: save, text: confirmBtnText">Confirm</button>
                        </div>
                        <div class="isolated">
                            By tapping sign up &amp; confirm, I agree to Loconomics'
                            <a class="text-secondary" target="_blank" data-bind="attr: { href: urlTos }">Terms of Service</a>,
                            <a class="text-secondary" target="_blank" data-bind="attr: { href: urlBcp }">Background Check Policy</a>,
                            <a class="text-secondary" target="_blank" data-bind="attr: { href: urlPp }">Privacy Policy</a>, &amp;
                            <a class="text-secondary" target="_blank" data-bind="attr: { href: urlCp }"><span data-bind="text:  serviceProfessionalInfo() && serviceProfessionalInfo().profile() && serviceProfessionalInfo().profile().firstName()"></span>'s Cancellation Policy</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

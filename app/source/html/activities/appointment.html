<!-- Activity appointment -->
<div data-activity="appointment" data-bind="css: { 'in-edit': editMode }" class="Boxes-sm animated">
    <app-inline-user-menu>@render('parts/UserMenuContents.html')</app-inline-user-menu>
    <div class="container">
        <div class="row"> 
            <div class="SubSectionNavBar col-md-7 col-sm-reset hidden-xs hidden-sm">
                <ul>
                    <li>
                        <a data-bind="attr: { href: backToCalendarUrl }"><i class="fa fa-fw ion-ios-arrow-thin-left"></i> Back</a>
                    </li>
                </ul>
            </div>
            <div class="col-md-7 col-sm-reset">
                <div class="PaddedBox-md" id="appointment-titleBar">
                    <h2 class="SectionTitle">
                        <span data-bind="visible: currentID() == specialAppointmentIds.newBooking">Add a new booking</span>
                        <span data-bind="visible: currentID() == specialAppointmentIds.newEvent">Add a calendar block</span>
                        <span data-bind="visible: !isNewCard(), text: formattedCurrentDate"></span>
                        <span class="pull-right hidden-xs hidden-sm"><a href="https://loconomics.com/#!/help/relatedArticles/201983163-making-changes-canceling-appointments" target="_blank">Help <i class="fa fa-fw ion-ios-help-outline"></i></a>
                        </span>
                        <span class="pull-right visible-xs visible-sm"><button class="btn btn-default btn-editCard" data-bind="visible: isEditButtonVisible, click: appointmentCardView() && appointmentCardView().edit">Edit</button>
                        </span>
                    </h2>
                </div>
                <div id="appointment-toolbar" class="hidden-xs hidden-sm container-fluid">
                    <button class="btn btn-default fa fa-lg ion ion-ios-arrow-left" data-bind="visible: !isNewCard() && !editMode(), click: goPrevious"></button>
                    <button class="btn btn-default fa fa-lg ion ion-ios-arrow-right" data-bind="visible: !isNewCard() && !editMode(), click: goNext"></button>
                    <button class="btn btn-default pull-right" data-bind="visible: isEditButtonVisible, click: appointmentCardView() && appointmentCardView().edit">Edit</button>
                </div>
                <!-- Appointment View (cards) -->
                <div id="calendarAppointmentView" class="container-fluid CardsDeck CardsDeck--dotsSlider" data-bind="event: { swipeleft: goNext, swiperight: goPrevious }, css: { 'is-loading': isLoading() }">
                    <app-appointment-card params="sourceItem: currentAppointment, editMode: editMode, isLoading: isLoading, app: app, api: appointmentCardView"></app-appointment-card>
                    <div class="CardsDeck-dots" data-bind="foreach: appointments">
                        <span data-bind="css: { 'is-active': ($index() == $parent.currentIndex()) }"></span>
                    </div>
                </div>
            </div>
            <div class="SideMenu hidden-xs hidden-sm col-md-3 col-md-offset-1">
                <app-inline-side-menu></app-inline-side-menu>
            </div>
        </div>
    </div>
</div>    